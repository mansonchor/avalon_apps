define("base/underscore",[],function(e,t,i){(function(){var e=this,n=e._,a={},o=Array.prototype,s=Object.prototype,r=Function.prototype,l=o.push,d=o.slice,c=o.concat,_=s.toString,p=s.hasOwnProperty,m=o.forEach,u=o.map,h=o.reduce,f=o.reduceRight,g=o.filter,v=o.every,b=o.some,w=o.indexOf,y=o.lastIndexOf,x=Array.isArray,k=Object.keys,$=r.bind,z=function(e){return e instanceof z?e:this instanceof z?(this._wrapped=e,void 0):new z(e)};void 0!==t?(void 0!==i&&i.exports&&(t=i.exports=z),t._=z):e._=z,z.VERSION="1.4.3";var j=z.each=z.forEach=function(e,t,i){if(null!=e)if(m&&e.forEach===m)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(t.call(i,e[n],n,e)===a)return}else for(var s in e)if(z.has(e,s)&&t.call(i,e[s],s,e)===a)return};z.map=z.collect=function(e,t,i){var n=[];return null==e?n:u&&e.map===u?e.map(t,i):(j(e,function(e,a,o){n[n.length]=t.call(i,e,a,o)}),n)};var T="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return n&&(t=z.bind(t,n)),a?e.reduce(t,i):e.reduce(t);if(j(e,function(e,o,s){a?i=t.call(n,i,e,o,s):(i=e,a=!0)}),!a)throw new TypeError(T);return i},z.reduceRight=z.foldr=function(e,t,i,n){var a=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return n&&(t=z.bind(t,n)),a?e.reduceRight(t,i):e.reduceRight(t);var o=e.length;if(o!==+o){var s=z.keys(e);o=s.length}if(j(e,function(r,l,d){l=s?s[--o]:--o,a?i=t.call(n,i,e[l],l,d):(i=e[l],a=!0)}),!a)throw new TypeError(T);return i},z.find=z.detect=function(e,t,i){var n;return S(e,function(e,a,o){return t.call(i,e,a,o)?(n=e,!0):void 0}),n},z.filter=z.select=function(e,t,i){var n=[];return null==e?n:g&&e.filter===g?e.filter(t,i):(j(e,function(e,a,o){t.call(i,e,a,o)&&(n[n.length]=e)}),n)},z.reject=function(e,t,i){return z.filter(e,function(e,n,a){return!t.call(i,e,n,a)},i)},z.every=z.all=function(e,t,i){t||(t=z.identity);var n=!0;return null==e?n:v&&e.every===v?e.every(t,i):(j(e,function(e,o,s){return(n=n&&t.call(i,e,o,s))?void 0:a}),!!n)};var S=z.some=z.any=function(e,t,i){t||(t=z.identity);var n=!1;return null==e?n:b&&e.some===b?e.some(t,i):(j(e,function(e,o,s){return n||(n=t.call(i,e,o,s))?a:void 0}),!!n)};z.contains=z.include=function(e,t){return null==e?!1:w&&e.indexOf===w?-1!=e.indexOf(t):S(e,function(e){return e===t})},z.invoke=function(e,t){var i=d.call(arguments,2);return z.map(e,function(e){return(z.isFunction(t)?t:e[t]).apply(e,i)})},z.pluck=function(e,t){return z.map(e,function(e){return e[t]})},z.where=function(e,t){return z.isEmpty(t)?[]:z.filter(e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},z.max=function(e,t,i){if(!t&&z.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&z.isEmpty(e))return-1/0;var n={computed:-1/0,value:-1/0};return j(e,function(e,a,o){var s=t?t.call(i,e,a,o):e;s>=n.computed&&(n={value:e,computed:s})}),n.value},z.min=function(e,t,i){if(!t&&z.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&z.isEmpty(e))return 1/0;var n={computed:1/0,value:1/0};return j(e,function(e,a,o){var s=t?t.call(i,e,a,o):e;n.computed>s&&(n={value:e,computed:s})}),n.value},z.shuffle=function(e){var t,i=0,n=[];return j(e,function(e){t=z.random(i++),n[i-1]=n[t],n[t]=e}),n};var E=function(e){return z.isFunction(e)?e:function(t){return t[e]}};z.sortBy=function(e,t,i){var n=E(t);return z.pluck(z.map(e,function(e,t,a){return{value:e,index:t,criteria:n.call(i,e,t,a)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index<t.index?-1:1}),"value")};var C=function(e,t,i,n){var a={},o=E(t||z.identity);return j(e,function(t,s){var r=o.call(i,t,s,e);n(a,r,t)}),a};z.groupBy=function(e,t,i){return C(e,t,i,function(e,t,i){(z.has(e,t)?e[t]:e[t]=[]).push(i)})},z.countBy=function(e,t,i){return C(e,t,i,function(e,t){z.has(e,t)||(e[t]=0),e[t]++})},z.sortedIndex=function(e,t,i,n){i=null==i?z.identity:E(i);for(var a=i.call(n,t),o=0,s=e.length;s>o;){var r=o+s>>>1;a>i.call(n,e[r])?o=r+1:s=r}return o},z.toArray=function(e){return e?z.isArray(e)?d.call(e):e.length===+e.length?z.map(e,z.identity):z.values(e):[]},z.size=function(e){return null==e?0:e.length===+e.length?e.length:z.keys(e).length},z.first=z.head=z.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:d.call(e,0,t)},z.initial=function(e,t,i){return d.call(e,0,e.length-(null==t||i?1:t))},z.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:d.call(e,Math.max(e.length-t,0))},z.rest=z.tail=z.drop=function(e,t,i){return d.call(e,null==t||i?1:t)},z.compact=function(e){return z.filter(e,z.identity)};var I=function(e,t,i){return j(e,function(e){z.isArray(e)?t?l.apply(i,e):I(e,t,i):i.push(e)}),i};z.flatten=function(e,t){return I(e,t,[])},z.without=function(e){return z.difference(e,d.call(arguments,1))},z.uniq=z.unique=function(e,t,i,n){z.isFunction(t)&&(n=i,i=t,t=!1);var a=i?z.map(e,i,n):e,o=[],s=[];return j(a,function(i,n){(t?n&&s[s.length-1]===i:z.contains(s,i))||(s.push(i),o.push(e[n]))}),o},z.union=function(){return z.uniq(c.apply(o,arguments))},z.intersection=function(e){var t=d.call(arguments,1);return z.filter(z.uniq(e),function(e){return z.every(t,function(t){return z.indexOf(t,e)>=0})})},z.difference=function(e){var t=c.apply(o,d.call(arguments,1));return z.filter(e,function(e){return!z.contains(t,e)})},z.zip=function(){for(var e=d.call(arguments),t=z.max(z.pluck(e,"length")),i=Array(t),n=0;t>n;n++)i[n]=z.pluck(e,""+n);return i},z.object=function(e,t){if(null==e)return{};for(var i={},n=0,a=e.length;a>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},z.indexOf=function(e,t,i){if(null==e)return-1;var n=0,a=e.length;if(i){if("number"!=typeof i)return n=z.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,a+i):i}if(w&&e.indexOf===w)return e.indexOf(t,i);for(;a>n;n++)if(e[n]===t)return n;return-1},z.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(y&&e.lastIndexOf===y)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var a=n?i:e.length;a--;)if(e[a]===t)return a;return-1},z.range=function(e,t,i){1>=arguments.length&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),a=0,o=Array(n);n>a;)o[a++]=e,e+=i;return o};var N=function(){};z.bind=function(e,t){var i,n;if(e.bind===$&&$)return $.apply(e,d.call(arguments,1));if(!z.isFunction(e))throw new TypeError;return i=d.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(d.call(arguments)));N.prototype=e.prototype;var a=new N;N.prototype=null;var o=e.apply(a,i.concat(d.call(arguments)));return Object(o)===o?o:a}},z.bindAll=function(e){var t=d.call(arguments,1);return 0==t.length&&(t=z.functions(e)),j(t,function(t){e[t]=z.bind(e[t],e)}),e},z.memoize=function(e,t){var i={};return t||(t=z.identity),function(){var n=t.apply(this,arguments);return z.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},z.delay=function(e,t){var i=d.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},z.defer=function(e){return z.delay.apply(z,[e,1].concat(d.call(arguments,1)))},z.throttle=function(e,t){var i,n,a,o,s=0,r=function(){s=new Date,a=null,o=e.apply(i,n)};return function(){var l=new Date,d=t-(l-s);return i=this,n=arguments,0>=d?(clearTimeout(a),a=null,s=l,o=e.apply(i,n)):a||(a=setTimeout(r,d)),o}},z.debounce=function(e,t,i){var n,a;return function(){var o=this,s=arguments,r=function(){n=null,i||(a=e.apply(o,s))},l=i&&!n;return clearTimeout(n),n=setTimeout(r,t),l&&(a=e.apply(o,s)),a}},z.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},z.wrap=function(e,t){return function(){var i=[e];return l.apply(i,arguments),t.apply(this,i)}},z.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},z.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},z.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)z.has(e,i)&&(t[t.length]=i);return t},z.values=function(e){var t=[];for(var i in e)z.has(e,i)&&t.push(e[i]);return t},z.pairs=function(e){var t=[];for(var i in e)z.has(e,i)&&t.push([i,e[i]]);return t},z.invert=function(e){var t={};for(var i in e)z.has(e,i)&&(t[e[i]]=i);return t},z.functions=z.methods=function(e){var t=[];for(var i in e)z.isFunction(e[i])&&t.push(i);return t.sort()},z.extend=function(e){return j(d.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},z.pick=function(e){var t={},i=c.apply(o,d.call(arguments,1));return j(i,function(i){i in e&&(t[i]=e[i])}),t},z.omit=function(e){var t={},i=c.apply(o,d.call(arguments,1));for(var n in e)z.contains(i,n)||(t[n]=e[n]);return t},z.defaults=function(e){return j(d.call(arguments,1),function(t){if(t)for(var i in t)null==e[i]&&(e[i]=t[i])}),e},z.clone=function(e){return z.isObject(e)?z.isArray(e)?e.slice():z.extend({},e):e},z.tap=function(e,t){return t(e),e};var O=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof z&&(e=e._wrapped),t instanceof z&&(t=t._wrapped);var a=_.call(e);if(a!=_.call(t))return!1;switch(a){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]==e)return n[o]==t;i.push(e),n.push(t);var s=0,r=!0;if("[object Array]"==a){if(s=e.length,r=s==t.length)for(;s--&&(r=O(e[s],t[s],i,n)););}else{var l=e.constructor,d=t.constructor;if(l!==d&&!(z.isFunction(l)&&l instanceof l&&z.isFunction(d)&&d instanceof d))return!1;for(var c in e)if(z.has(e,c)&&(s++,!(r=z.has(t,c)&&O(e[c],t[c],i,n))))break;if(r){for(c in t)if(z.has(t,c)&&!s--)break;r=!s}}return i.pop(),n.pop(),r};z.isEqual=function(e,t){return O(e,t,[],[])},z.isEmpty=function(e){if(null==e)return!0;if(z.isArray(e)||z.isString(e))return 0===e.length;for(var t in e)if(z.has(e,t))return!1;return!0},z.isElement=function(e){return!(!e||1!==e.nodeType)},z.isArray=x||function(e){return"[object Array]"==_.call(e)},z.isObject=function(e){return e===Object(e)},j(["Arguments","Function","String","Number","Date","RegExp"],function(e){z["is"+e]=function(t){return _.call(t)=="[object "+e+"]"}}),z.isArguments(arguments)||(z.isArguments=function(e){return!(!e||!z.has(e,"callee"))}),z.isFunction=function(e){return"function"==typeof e},z.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},z.isNaN=function(e){return z.isNumber(e)&&e!=+e},z.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==_.call(e)},z.isNull=function(e){return null===e},z.isUndefined=function(e){return void 0===e},z.has=function(e,t){return p.call(e,t)},z.noConflict=function(){return e._=n,this},z.identity=function(e){return e},z.times=function(e,t,i){for(var n=Array(e),a=0;e>a;a++)n[a]=t.call(i,a);return n},z.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};q.unescape=z.invert(q.escape);var D={escape:RegExp("["+z.keys(q.escape).join("")+"]","g"),unescape:RegExp("("+z.keys(q.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(e){z[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return q[e][t]})}}),z.result=function(e,t){if(null==e)return null;var i=e[t];return z.isFunction(i)?i.call(e):i},z.mixin=function(e){j(z.functions(e),function(t){var i=z[t]=e[t];z.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),V.call(this,i.apply(z,e))}})};var P=0;z.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(e,t,i){i=z.defaults({},i,z.templateSettings);var n=RegExp([(i.escape||M).source,(i.interpolate||M).source,(i.evaluate||M).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(n,function(t,i,n,s,r){return o+=e.slice(a,r).replace(R,function(e){return"\\"+A[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(o+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(o+="';\n"+s+"\n__p+='"),a=r+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(i.variable||"obj","_",o)}catch(r){throw r.source=o,r}if(t)return s(t,z);var l=function(e){return s.call(this,e,z)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},z.chain=function(e){return z(e).chain()};var V=function(e){return this._chain?z(e).chain():e};z.mixin(z),j(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];z.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],V.call(this,i)}}),j(["concat","join","slice"],function(e){var t=o[e];z.prototype[e]=function(){return V.call(this,t.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}),define("base/backbone",["underscore","zepto"],function(e,t){var i=this._,n=this.jQuery;this._=e("underscore"),this.jQuery=e("zepto"),function(){var i,n=this,a=n.Backbone,o=[],s=o.push,r=o.slice,l=o.splice;i=void 0!==t?t:n.Backbone={},i.VERSION="0.9.9";var d=n._;d||void 0===e||(d=e("gallery/underscore/1.4.2/underscore")),i.$=n.jQuery||n.Zepto||n.ender,i.noConflict=function(){return n.Backbone=a,this},i.emulateHTTP=!1,i.emulateJSON=!1;var c=/\s+/,_=function(e,t,i,n){if(!i)return!0;if("object"==typeof i)for(var a in i)e[t].apply(e,[a,i[a]].concat(n));else{if(!c.test(i))return!0;for(var o=i.split(c),s=0,r=o.length;r>s;s++)e[t].apply(e,[o[s]].concat(n))}},p=function(e,t,i){var n,a=-1,o=t.length;switch(i.length){case 0:for(;o>++a;)(n=t[a]).callback.call(n.ctx);return;case 1:for(;o>++a;)(n=t[a]).callback.call(n.ctx,i[0]);return;case 2:for(;o>++a;)(n=t[a]).callback.call(n.ctx,i[0],i[1]);return;case 3:for(;o>++a;)(n=t[a]).callback.call(n.ctx,i[0],i[1],i[2]);return;default:for(;o>++a;)(n=t[a]).callback.apply(n.ctx,i)}},m=i.Events={on:function(e,t,i){if(!_(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var n=this._events[e]||(this._events[e]=[]);return n.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!_(this,"once",e,[t,i])||!t)return this;var n=this,a=d.once(function(){n.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,i),this},off:function(e,t,i){var n,a,o,s,r,l,c,p;if(!this._events||!_(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(s=e?[e]:d.keys(this._events),r=0,l=s.length;l>r;r++)if(e=s[r],n=this._events[e]){if(o=[],t||i)for(c=0,p=n.length;p>c;c++)a=n[c],(t&&t!==(a.callback._callback||a.callback)||i&&i!==a.context)&&o.push(a);this._events[e]=o}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!_(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&p(this,i,t),n&&p(this,n,arguments),this},listenTo:function(e,t,i){var n=this._listeners||(this._listeners={}),a=e._listenerId||(e._listenerId=d.uniqueId("l"));return n[a]=e,e.on(t,i||this,this),this},stopListening:function(e,t,i){var n=this._listeners;if(n){if(e)e.off(t,i,this),t||i||delete n[e._listenerId];else{for(var a in n)n[a].off(null,null,this);this._listeners={}}return this}}};m.bind=m.on,m.unbind=m.off,d.extend(i,m);var u=i.Model=function(e,t){var i,n=e||{};this.cid=d.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n)),(i=d.result(this,"defaults"))&&d.defaults(n,i),this.set(n,{silent:!0}),this._currentAttributes=d.clone(this.attributes),this._previousAttributes=d.clone(this.attributes),this.initialize.apply(this,arguments)};d.extend(u.prototype,m,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return d.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return d.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,a;if(null==e)return this;d.isObject(e)?(a=e,i=t):(a={})[e]=t;var o=i&&i.silent,s=i&&i.unset;if(!this._validate(a,i))return!1;this.idAttribute in a&&(this.id=a[this.idAttribute]);var r=this.attributes;for(n in a)t=a[n],s?delete r[n]:r[n]=t,this._changes.push(n,t);return this._hasComputed=!1,o||this.change(i),this},unset:function(e,t){return this.set(e,void 0,d.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,d.extend({},e,{unset:!0}))},fetch:function(e){e=e?d.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n),e)?(i&&i(t,n,e),void 0):!1},this.sync("read",this,e)},save:function(e,t,i){var n,a,o;if(null==e||d.isObject(e)?(n=e,i=t):null!=e&&((n={})[e]=t),i=i?d.clone(i):{},i.wait){if(n&&!this._validate(n,i))return!1;a=d.clone(this.attributes)}var s=d.extend({},i,{silent:!0});if(n&&!this.set(n,i.wait?s:i))return!1;if(!n&&!this._validate(null,i))return!1;var r=this,l=i.success;i.success=function(e){o=!0;var t=r.parse(e);return i.wait&&(t=d.extend(n||{},t)),r.set(t,i)?(l&&l(r,e,i),void 0):!1};var c=this.isNew()?"create":i.patch?"patch":"update";"patch"==c&&(i.attrs=n);var _=this.sync(c,this,i);return!o&&i.wait&&(this.clear(s),this.set(a,s)),_},destroy:function(e){e=e?d.clone(e):{};var t=this,i=e.success,n=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(a){(e.wait||t.isNew())&&n(),i&&i(t,a,e)},this.isNew())return e.success(),!1;var a=this.sync("delete",this,e);return e.wait||n(),a},url:function(){var e=d.result(this,"urlRoot")||d.result(this.collection,"url")||O();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){var t=this._changing;this._changing=!0;var i=this._computeChanges(!0);this._pending=!!i.length;for(var n=i.length-2;n>=0;n-=2)this.trigger("change:"+i[n],this,i[n+1],e);if(t)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,e),this._previousAttributes=d.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return this._hasComputed||this._computeChanges(),null==e?!d.isEmpty(this.changed):d.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?d.clone(this.changed):!1;var t,i=!1,n=this._previousAttributes;for(var a in e)d.isEqual(n[a],t=e[a])||((i||(i={}))[a]=t);return i},_computeChanges:function(e){this.changed={};for(var t={},i=[],n=this._currentAttributes,a=this._changes,o=a.length-2;o>=0;o-=2){var s=a[o],r=a[o+1];if(!t[s]&&(t[s]=!0,n[s]!==r)){if(this.changed[s]=r,!e)continue;i.push(s,r),n[s]=r}}return e&&(this._changes=[]),this._hasComputed=!0,i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},_validate:function(e,t){if(!this.validate)return!0;e=d.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error&&t.error(this,i,t),this.trigger("error",this,i,t),!1):!0}});var h=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,d.extend({silent:!0},t))};d.extend(h.prototype,m,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return i.sync.apply(this,arguments)},add:function(e,t){var i,n,a,o,r,c=t&&t.at,_=null==(t&&t.sort)?!0:t.sort;for(e=d.isArray(e)?e.slice():[e],i=e.length-1;i>=0;i--)(a=this._prepareModel(e[i],t))?(e[i]=a,o=null!=a.id&&this._byId[a.id],o||this._byCid[a.cid]?(t&&t.merge&&o&&(o.set(a.attributes,t),r=_),e.splice(i,1)):(a.on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a))):(this.trigger("error",this,e[i],t),e.splice(i,1));if(e.length&&(r=_),this.length+=e.length,n=[null!=c?c:this.models.length,0],s.apply(n,e),l.apply(this.models,n),r&&this.comparator&&null==c&&this.sort({silent:!0}),t&&t.silent)return this;for(;a=e.shift();)a.trigger("add",a,this,t);return this},remove:function(e,t){var i,n,a,o;for(t||(t={}),e=d.isArray(e)?e.slice():[e],i=0,n=e.length;n>i;i++)o=this.get(e[i]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,t.silent||(t.index=a,o.trigger("remove",o,this,t)),this._removeReference(o));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,d.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,d.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]||this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return d.isEmpty(e)?[]:this.filter(function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this)),e&&e.silent||this.trigger("sort",this,e),this},pluck:function(e){return d.invoke(this.models,"get",e)},update:function(e,t){var i,n,a,o,s=[],r=[],l={},c=this.model.prototype.idAttribute;if(t=d.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e)),d.isArray(e)||(e=e?[e]:[]),t.add&&!t.remove)return this.add(e,t);for(n=0,a=e.length;a>n;n++)i=e[n],o=this.get(i.id||i.cid||i[c]),t.remove&&o&&(l[o.cid]=!0),(t.add&&!o||t.merge&&o)&&s.push(i);if(t.remove)for(n=0,a=this.models.length;a>n;n++)i=this.models[n],l[i.cid]||r.push(i);return r.length&&this.remove(r,t),s.length&&this.add(s,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e));for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e&&this.add(e,d.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?d.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){var a=e.update?"update":"reset";t[a](n,e),i&&i(t,n,e)},this.sync("read",this,e)},create:function(e,t){var i=this;if(t=t?d.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var n=t.success;return t.success=function(e,t,a){a.wait&&i.add(e,a),n&&n(e,t,a)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return d(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof u)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var i=new this.model(e,t);return i._validate(e,t)?i:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var f=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];d.each(f,function(e){h.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),d[e].apply(d,t)}});var g=["groupBy","countBy","sortBy"];d.each(g,function(e){h.prototype[e]=function(t,i){var n=d.isFunction(t)?t:function(e){return e.get(t)};return d[e](this.models,n,i)}});var v=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,w=/:\w+/g,y=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(v.prototype,m,{initialize:function(){},route:function(e,t,n){return d.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,d.bind(function(a){var o=this._extractParameters(e,a);n&&n.apply(this,o),this.trigger.apply(this,["route:"+t].concat(o)),i.history.trigger("route",this,t,o)},this)),this},navigate:function(e,t){return i.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes)for(var e,t=d.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(x,"\\$&").replace(b,"(?:$1)?").replace(w,"([^/]+)").replace(y,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var k=i.History=function(){this.handlers=[],d.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,j=/msie [\w.]+/,T=/\/$/;k.started=!1,d.extend(k.prototype,m,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(T,"");e.indexOf(i)||(e=e.substr(i.length))}else e=this.getHash();return e.replace($,"")},start:function(e){if(k.started)throw Error("Backbone.history has already been started");k.started=!0,this.options=d.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,a=j.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);this.root=("/"+this.root+"/").replace(z,"/"),a&&this._wantsHashChange&&(this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?i.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?i.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace($,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){i.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),k.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=d.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!k.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var i=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),i.history=new k;var S=i.View=function(e){this.cid=d.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];d.extend(S.prototype,m,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(e,t,n){var a=document.createElement(e);return t&&i.$(a).attr(t),null!=n&&i.$(a).html(n),a},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof i.$?e:i.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=d.result(this,"events"))){this.undelegateEvents();for(var t in e){var i=e[t];if(d.isFunction(i)||(i=this[e[t]]),!i)throw Error('Method "'+e[t]+'" does not exist');var n=t.match(E),a=n[1],o=n[2];i=d.bind(i,this),a+=".delegateEvents"+this.cid,""===o?this.$el.bind(a,i):this.$el.delegate(o,a,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=d.extend({},d.result(this,"options"),e)),d.extend(this,d.pick(e,C)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var e=d.extend({},d.result(this,"attributes"));this.id&&(e.id=d.result(this,"id")),this.className&&(e["class"]=d.result(this,"className")),this.setElement(this.make(d.result(this,"tagName"),e),!1)}}});var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var a=I[e];d.defaults(n||(n={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var o={type:a,dataType:"json"};if(n.url||(o.url=d.result(t,"url")||O()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),n.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",n.emulateJSON&&(o.data._method=a);var s=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||n.emulateJSON||(o.processData=!1);var r=n.success;n.success=function(e,i,a){r&&r(e,i,a),t.trigger("sync",t,e,n)};var l=n.error;n.error=function(e){l&&l(t,e,n),t.trigger("error",t,e,n)};var c=i.ajax(d.extend(o,n));return t.trigger("request",t,c,n),c},i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var N=function(e,t){var i,n=this;i=e&&d.has(e,"constructor")?e.constructor:function(){n.apply(this,arguments)},d.extend(i,n,t);var a=function(){this.constructor=i};return a.prototype=n.prototype,i.prototype=new a,e&&d.extend(i.prototype,e),i.__super__=n.prototype,i};u.extend=h.extend=v.extend=S.extend=k.extend=N;var O=function(){throw Error('A "url" property or function must be specified')}}.call(this),this._=i,this.jQuery=n}),define("base/zepto",[],function(){var e=window.Zepto,t=window.$;(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===e&&(Array.prototype.reduce=function(t){if(void 0===this||null===this)throw new TypeError;
var i,n=Object(this),a=n.length>>>0,o=0;if("function"!=typeof t)throw new TypeError;if(0==a&&1==arguments.length)throw new TypeError;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=a)throw new TypeError}for(;a>o;)o in n&&(i=t.call(e,i,n[o],o,n)),o++;return i})})();var i=function(){function e(e){return null==e?e+"":F[J.call(e)]||"object"}function t(t){return"function"==e(t)}function i(e){return null!=e&&e==e.window}function n(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function a(t){return"object"==e(t)}function o(e){return a(e)&&!i(e)&&e.__proto__==Object.prototype}function s(e){return e instanceof Array}function r(e){return"number"==typeof e.length}function l(e){return C.call(e,function(e){return null!=e})}function d(e){return e.length>0?$.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function _(e){return e in O?O[e]:O[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||D[c(e)]?t:t+"px"}function m(e){var t,i;return N[e]||(t=I.createElement(e),I.body.appendChild(t),i=q(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),N[e]=i),N[e]}function u(e){return"children"in e?E.call(e.children):$.map(e.childNodes,function(e){return 1==e.nodeType?e:x})}function h(e,t,i){for(k in t)i&&(o(t[k])||s(t[k]))?(o(t[k])&&!o(e[k])&&(e[k]={}),s(t[k])&&!s(e[k])&&(e[k]=[]),h(e[k],t[k],i)):t[k]!==x&&(e[k]=t[k])}function f(e,t){return t===x?$(e):$(e).filter(t)}function g(e,i,n,a){return t(i)?i.call(e,n,a):i}function v(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function b(e,t){var i=e.className,n=i&&i.baseVal!==x;return t===x?n?i.baseVal:i:(n?i.baseVal=t:e.className=t,x)}function w(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?$.parseJSON(e):e:t):e}catch(i){return e}}function y(e,t){t(e);for(var i in e.childNodes)y(e.childNodes[i],t)}var x,k,$,z,j,T,S=[],E=S.slice,C=S.filter,I=window.document,N={},O={},q=I.defaultView.getComputedStyle,D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,A=/^(?:body|html)$/i,R=["val","css","html","text","data","width","height","offset"],V=["after","prepend","before","append"],Y=I.createElement("table"),X=I.createElement("tr"),U={tr:I.createElement("tbody"),tbody:Y,thead:Y,tfoot:Y,td:X,th:X,"*":I.createElement("div")},L=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,W=/^#([\w-]*)$/,Z=/^[\w-]+$/,F={},J=F.toString,B={},G=I.createElement("div");return B.matches=function(e,t){if(!e||1!==e.nodeType)return!1;var i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,t);var n,a=e.parentNode,o=!a;return o&&(a=G).appendChild(e),n=~B.qsa(a,t).indexOf(e),o&&G.removeChild(e),n},j=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return C.call(e,function(t,i){return e.indexOf(t)==i})},B.fragment=function(e,t,i){e.replace&&(e=e.replace(M,"<$1></$2>")),t===x&&(t=P.test(e)&&RegExp.$1),t in U||(t="*");var n,a,s=U[t];return s.innerHTML=""+e,a=$.each(E.call(s.childNodes),function(){s.removeChild(this)}),o(i)&&(n=$(a),$.each(i,function(e,t){R.indexOf(e)>-1?n[e](t):n.attr(e,t)})),a},B.Z=function(e,t){return e=e||[],e.__proto__=$.fn,e.selector=t||"",e},B.isZ=function(e){return e instanceof B.Z},B.init=function(e,i){if(e){if(t(e))return $(I).ready(e);if(B.isZ(e))return e;var n;if(s(e))n=l(e);else if(a(e))n=[o(e)?$.extend({},e):e],e=null;else if(P.test(e))n=B.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==x)return $(i).find(e);n=B.qsa(I,e)}return B.Z(n,e)}return B.Z()},$=function(e,t){return B.init(e,t)},$.extend=function(e){var t,i=E.call(arguments,1);return"boolean"==typeof e&&(t=e,e=i.shift()),i.forEach(function(i){h(e,i,t)}),e},B.qsa=function(e,t){var i;return n(e)&&W.test(t)?(i=e.getElementById(RegExp.$1))?[i]:[]:1!==e.nodeType&&9!==e.nodeType?[]:E.call(H.test(t)?e.getElementsByClassName(RegExp.$1):Z.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},$.contains=function(e,t){return e!==t&&e.contains(t)},$.type=e,$.isFunction=t,$.isWindow=i,$.isArray=s,$.isPlainObject=o,$.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},$.inArray=function(e,t,i){return S.indexOf.call(t,e,i)},$.camelCase=j,$.trim=function(e){return e.trim()},$.uuid=0,$.support={},$.expr={},$.map=function(e,t){var i,n,a,o=[];if(r(e))for(n=0;e.length>n;n++)i=t(e[n],n),null!=i&&o.push(i);else for(a in e)i=t(e[a],a),null!=i&&o.push(i);return d(o)},$.each=function(e,t){var i,n;if(r(e)){for(i=0;e.length>i;i++)if(t.call(e[i],i,e[i])===!1)return e}else for(n in e)if(t.call(e[n],n,e[n])===!1)return e;return e},$.grep=function(e,t){return C.call(e,t)},window.JSON&&($.parseJSON=JSON.parse),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){F["[object "+t+"]"]=t.toLowerCase()}),$.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(e){return $($.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return $(E.apply(this,arguments))},ready:function(e){return L.test(I.readyState)?e($):I.addEventListener("DOMContentLoaded",function(){e($)},!1),this},get:function(e){return e===x?E.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return S.every.call(this,function(t,i){return e.call(t,i,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):$(C.call(this,function(t){return B.matches(t,e)}))},add:function(e,t){return $(T(this.concat($(e,t))))},is:function(e){return this.length>0&&B.matches(this[0],e)},not:function(e){var i=[];if(t(e)&&e.call!==x)this.each(function(t){e.call(this,t)||i.push(this)});else{var n="string"==typeof e?this.filter(e):r(e)&&t(e.item)?E.call(e):$(e);this.forEach(function(e){0>n.indexOf(e)&&i.push(e)})}return $(i)},has:function(e){return this.filter(function(){return a(e)?$.contains(this,e):$(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!a(e)?e:$(e)},last:function(){var e=this[this.length-1];return e&&!a(e)?e:$(e)},find:function(e){var t,i=this;return t="object"==typeof e?$(e).filter(function(){var e=this;return S.some.call(i,function(t){return $.contains(t,e)})}):1==this.length?$(B.qsa(this[0],e)):this.map(function(){return B.qsa(this,e)})},closest:function(e,t){var i=this[0],a=!1;for("object"==typeof e&&(a=$(e));i&&!(a?a.indexOf(i)>=0:B.matches(i,e));)i=i!==t&&!n(i)&&i.parentNode;return $(i)},parents:function(e){for(var t=[],i=this;i.length>0;)i=$.map(i,function(e){return(e=e.parentNode)&&!n(e)&&0>t.indexOf(e)?(t.push(e),e):x});return f(t,e)},parent:function(e){return f(T(this.pluck("parentNode")),e)},children:function(e){return f(this.map(function(){return u(this)}),e)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(e){return f(this.map(function(e,t){return C.call(u(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return $.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==q(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var i=t(e);if(this[0]&&!i)var n=$(e).get(0),a=n.parentNode||this.length>1;return this.each(function(t){$(this).wrapAll(i?e.call(this,t):a?n.cloneNode(!0):n)})},wrapAll:function(e){if(this[0]){$(this[0]).before(e=$(e));for(var t;(t=e.children()).length;)e=t.first();$(e).append(this)}return this},wrapInner:function(e){var i=t(e);return this.each(function(t){var n=$(this),a=n.contents(),o=i?e.call(this,t):e;a.length?a.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){$(this).replaceWith($(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=$(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return $(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return $(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return e===x?this.length>0?this[0].innerHTML:null:this.each(function(t){var i=this.innerHTML;$(this).empty().append(g(this,e,t,i))})},text:function(e){return e===x?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e})},attr:function(e,t){var i;return"string"==typeof e&&t===x?0==this.length||1!==this[0].nodeType?x:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(e))&&e in this[0]?this[0][e]:i:this.each(function(i){if(1===this.nodeType)if(a(e))for(k in e)v(this,k,e[k]);else v(this,e,g(this,t,i,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&v(this,e)})},prop:function(e,t){return t===x?this[0]&&this[0][e]:this.each(function(i){this[e]=g(this,t,i,this[e])})},data:function(e,t){var i=this.attr("data-"+c(e),t);return null!==i?w(i):x},val:function(e){return e===x?this[0]&&(this[0].multiple?$(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(t){this.value=g(this,e,t,this.value)})},offset:function(e){if(e)return this.each(function(t){var i=$(this),n=g(this,e,t,i.offset()),a=i.offsetParent().offset(),o={top:n.top-a.top,left:n.left-a.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,i){if(2>arguments.length&&"string"==typeof t)return this[0]&&(this[0].style[j(t)]||q(this[0],"").getPropertyValue(t));var n="";if("string"==e(t))i||0===i?n=c(t)+":"+p(t,i):this.each(function(){this.style.removeProperty(c(t))});else for(k in t)t[k]||0===t[k]?n+=c(k)+":"+p(k,t[k])+";":this.each(function(){this.style.removeProperty(c(k))});return this.each(function(){this.style.cssText+=";"+n})},index:function(e){return e?this.indexOf($(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return S.some.call(this,function(e){return this.test(b(e))},_(e))},addClass:function(e){return this.each(function(t){z=[];var i=b(this),n=g(this,e,t,i);n.split(/\s+/g).forEach(function(e){$(this).hasClass(e)||z.push(e)},this),z.length&&b(this,i+(i?" ":"")+z.join(" "))})},removeClass:function(e){return this.each(function(t){return e===x?b(this,""):(z=b(this),g(this,e,t,z).split(/\s+/g).forEach(function(e){z=z.replace(_(e)," ")}),b(this,z.trim()),x)})},toggleClass:function(e,t){return this.each(function(i){var n=$(this),a=g(this,e,i,b(this));a.split(/\s+/g).forEach(function(e){(t===x?!n.hasClass(e):t)?n.addClass(e):n.removeClass(e)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:x},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),i=this.offset(),n=A.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat($(e).css("margin-top"))||0,i.left-=parseFloat($(e).css("margin-left"))||0,n.top+=parseFloat($(t[0]).css("border-top-width"))||0,n.left+=parseFloat($(t[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!A.test(e.nodeName)&&"static"==$(e).css("position");)e=e.offsetParent;return e})}},$.fn.detach=$.fn.remove,["width","height"].forEach(function(e){$.fn[e]=function(t){var a,o=this[0],s=e.replace(/./,function(e){return e[0].toUpperCase()});return t===x?i(o)?o["inner"+s]:n(o)?o.documentElement["offset"+s]:(a=this.offset())&&a[e]:this.each(function(i){o=$(this),o.css(e,g(this,t,i,o[e]()))})}}),V.forEach(function(t,i){var n=i%2;$.fn[t]=function(){var t,a,o=$.map(arguments,function(i){return t=e(i),"object"==t||"array"==t||null==i?i:B.fragment(i)}),s=this.length>1;return 1>o.length?this:this.each(function(e,t){a=n?t:t.parentNode,t=0==i?t.nextSibling:1==i?t.firstChild:2==i?t:null,o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!a)return $(e).remove();y(a.insertBefore(e,t),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},$.fn[n?t+"To":"insert"+(i?"Before":"After")]=function(e){return $(e)[t](this),this}}),B.Z.prototype=$.fn,B.uniq=T,B.deserializeValue=w,$.zepto=B,$}();return window.Zepto=i,"$"in window||(window.$=i),function(e){function t(e){var t=this.os={},i=this.browser={},n=e.match(/WebKit\/([\d.]+)/),a=e.match(/(Android)\s+([\d.]+)/),o=e.match(/(iPad).*OS\s([\d_]+)/),s=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),r=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=r&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),c=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),m=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),u=e.match(/PlayBook/),h=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),f=e.match(/Firefox\/([\d.]+)/);(i.webkit=!!n)&&(i.version=n[1]),a&&(t.android=!0,t.version=a[2]),s&&(t.ios=t.iphone=!0,t.version=s[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),r&&(t.webos=!0,t.version=r[2]),l&&(t.touchpad=!0),_&&(t.blackberry=!0,t.version=_[2]),p&&(t.bb10=!0,t.version=p[2]),m&&(t.rimtabletos=!0,t.version=m[2]),u&&(i.playbook=!0),d&&(t.kindle=!0,t.version=d[1]),c&&(i.silk=!0,i.version=c[1]),!c&&t.android&&e.match(/Kindle Fire/)&&(i.silk=!0),h&&(i.chrome=!0,i.version=h[1]),f&&(i.firefox=!0,i.version=f[1]),t.tablet=!!(o||u||a&&!e.match(/Mobile/)||f&&e.match(/Tablet/)),t.phone=!(t.tablet||!(a||s||r||_||p||h&&e.match(/Android/)||h&&e.match(/CriOS\/([\d.]+)/)||f&&e.match(/Mobile/)))}t.call(e,navigator.userAgent),e.__detect=t}(i),function(e){function t(e){return e._zid||(e._zid=m++)}function i(e,i,o,s){if(i=n(i),i.ns)var r=a(i.ns);return(p[t(e)]||[]).filter(function(e){return!(!e||i.e&&e.e!=i.e||i.ns&&!r.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function n(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function a(e){return RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(t,i,n){"string"!=e.type(t)?e.each(t,n):t.split(/\s/).forEach(function(e){n(e,i)})}function s(e,t){return e.del&&("focus"==e.e||"blur"==e.e)||!!t}function r(e){return h[e]||e}function l(i,a,l,d,c,_){var m=t(i),u=p[m]||(p[m]=[]);o(a,l,function(t,a){var o=n(t);o.fn=a,o.sel=d,o.e in h&&(a=function(t){var i=t.relatedTarget;return!i||i!==this&&!e.contains(this,i)?o.fn.apply(this,arguments):void 0}),o.del=c&&c(a,t);var l=o.del||a;o.proxy=function(e){var t=l.apply(i,[e].concat(e.data));return t===!1&&(e.preventDefault(),e.stopPropagation()),t},o.i=u.length,u.push(o),i.addEventListener(r(o.e),o.proxy,s(o,_))})}function d(e,n,a,l,d){var c=t(e);o(n||"",a,function(t,n){i(e,t,n,l).forEach(function(t){delete p[c][t.i],e.removeEventListener(r(t.e),t.proxy,s(t,d))})})}function c(t){var i,n={originalEvent:t};for(i in t)v.test(i)||void 0===t[i]||(n[i]=t[i]);return e.each(b,function(e,i){n[e]=function(){return this[i]=f,t[e].apply(t,arguments)},n[i]=g}),n}function _(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var p=(e.zepto.qsa,{}),m=1,u={},h={mouseenter:"mouseover",mouseleave:"mouseout"};u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:l,remove:d},e.proxy=function(i,n){if(e.isFunction(i)){var a=function(){return i.apply(n,arguments)};return a._zid=t(i),a}if("string"==typeof n)return e.proxy(i[n],i);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){l(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){d(this,e,t)})},e.fn.one=function(e,t){return this.each(function(i,n){l(this,e,t,null,function(e,t){return function(){var i=e.apply(n,arguments);return d(n,t,e),i}})})};var f=function(){return!0},g=function(){return!1},v=/^([A-Z]|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,i,n){return this.each(function(a,o){l(o,i,n,t,function(i){return function(n){var a,s=e(n.target).closest(t,o).get(0);return s?(a=e.extend(c(n),{currentTarget:s,liveFired:o}),i.apply(s,[a].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,i){return this.each(function(){d(this,t,i,e)})},e.fn.live=function(t,i){return e(document.body).delegate(this.selector,t,i),this},e.fn.die=function(t,i){return e(document.body).undelegate(this.selector,t,i),this},e.fn.on=function(t,i,n){return!i||e.isFunction(i)?this.bind(t,i||n):this.delegate(i,t,n)},e.fn.off=function(t,i,n){return!i||e.isFunction(i)?this.unbind(t,i||n):this.undelegate(i,t,n)},e.fn.trigger=function(t,i){return("string"==typeof t||e.isPlainObject(t))&&(t=e.Event(t)),_(t),t.data=i,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},e.fn.triggerHandler=function(t,n){var a,o;return this.each(function(s,r){a=c("string"==typeof t?e.Event(t):t),a.data=n,a.target=r,e.each(i(r,t.type||t),function(e,t){return o=t.proxy(a),a.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var i=document.createEvent(u[e]||"Events"),n=!0;if(t)for(var a in t)"bubbles"==a?n=!!t[a]:i[a]=t[a];return i.initEvent(e,n,!0,null,null,null,null,null,null,null,null,null,null,null,null),i.isDefaultPrevented=function(){return this.defaultPrevented},i}}(i),function(e){function t(t,i,n){var a=e.Event(i);return e(t).trigger(a,n),!a.defaultPrevented}function i(e,i,n,a){return e.global?t(i||v,n,a):void 0}function n(t){t.global&&0===e.active++&&i(t,null,"ajaxStart")}function a(t){t.global&&!--e.active&&i(t,null,"ajaxStop")}function o(e,t){var n=t.context;return t.beforeSend.call(n,e,t)===!1||i(t,n,"ajaxBeforeSend",[e,t])===!1?!1:(i(t,n,"ajaxSend",[e,t]),void 0)}function s(e,t,n){var a=n.context,o="success";n.success.call(a,e,o,t),i(n,a,"ajaxSuccess",[t,n,e]),l(o,t,n)}function r(e,t,n,a){var o=a.context;a.error.call(o,n,t,e),i(a,o,"ajaxError",[n,a,e]),l(t,n,a)}function l(e,t,n){var o=n.context;n.complete.call(o,t,e),i(n,o,"ajaxComplete",[t,n]),a(n)}function d(){}function c(e){return e&&(e=e.split(";",2)[0]),e&&(e==k?"html":e==x?"json":w.test(e)?"script":y.test(e)&&"xml")||"text"}function _(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=_(t.url,t.data))}function m(t,i,n,a){var o=!e.isFunction(i);return{url:t,data:o?i:void 0,success:o?e.isFunction(n)?n:void 0:i,dataType:o?a||n:n}}function u(t,i,n,a){var o,s=e.isArray(i);e.each(i,function(i,r){o=e.type(r),a&&(i=n?a:a+"["+(s?"":i)+"]"),!a&&s?t.add(r.name,r.value):"array"==o||!n&&"object"==o?u(t,r,n,i):t.add(i,r)})}var h,f,g=0,v=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,x="application/json",k="text/html",$=/^\s*$/;e.active=0,e.ajaxJSONP=function(t){if(!("type"in t))return e.ajax(t);var i,n="jsonp"+ ++g,a=v.createElement("script"),l=function(){clearTimeout(i),e(a).remove(),delete window[n]},c=function(e){l(),e&&"timeout"!=e||(window[n]=d),r(null,e||"abort",_,t)},_={abort:c};return o(_,t)===!1?(c("abort"),!1):(window[n]=function(e){l(),s(e,_,t)},a.onerror=function(){c("error")},a.src=t.url.replace(/=\?/,"="+n),e("head").append(a),t.timeout>0&&(i=setTimeout(function(){c("timeout")},t.timeout)),_)},e.ajaxSettings={type:"GET",beforeSend:d,success:d,error:d,complete:d,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:x,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var i=e.extend({},t||{});for(h in e.ajaxSettings)void 0===i[h]&&(i[h]=e.ajaxSettings[h]);n(i),i.crossDomain||(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host),i.url||(i.url=""+window.location),p(i),i.cache===!1&&(i.url=_(i.url,"_="+Date.now()));var a=i.dataType,l=/=\?/.test(i.url);if("jsonp"==a||l)return l||(i.url=_(i.url,"callback=?")),e.ajaxJSONP(i);var m,u=i.accepts[a],g={},v=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,b=i.xhr();i.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),u&&(g.Accept=u,u.indexOf(",")>-1&&(u=u.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(u)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&(g["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),i.headers=e.extend(g,i.headers||{}),b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=d,clearTimeout(m);var t,n=!1;if(b.status>=200&&300>b.status||304==b.status||0==b.status&&"file:"==v){a=a||c(b.getResponseHeader("content-type")),t=b.responseText;try{"script"==a?(1,eval)(t):"xml"==a?t=b.responseXML:"json"==a&&(t=$.test(t)?null:e.parseJSON(t))}catch(o){n=o}n?r(n,"parsererror",b,i):s(t,b,i)}else r(null,b.status?"error":"abort",b,i)}};var w="async"in i?i.async:!0;b.open(i.type,i.url,w);for(f in i.headers)b.setRequestHeader(f,i.headers[f]);return o(b,i)===!1?(b.abort(),!1):(i.timeout>0&&(m=setTimeout(function(){b.onreadystatechange=d,b.abort(),r(null,"timeout",b,i)},i.timeout)),b.send(i.data?i.data:null),b)},e.get=function(){return e.ajax(m.apply(null,arguments))},e.post=function(){var t=m.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,i,n){if(!this.length)return this;var a,o=this,s=t.split(/\s/),r=m(t,i,n),l=r.success;return s.length>1&&(r.url=s[0],a=s[1]),r.success=function(t){o.html(a?e("<div>").html(t.replace(b,"")).find(a):t),l&&l.apply(o,arguments)},e.ajax(r),this};var z=encodeURIComponent;e.param=function(e,t){var i=[];return i.add=function(e,t){this.push(z(e)+"="+z(t))},u(i,e,t),i.join("&").replace(/%20/g,"+")}}(i),function(e){e.fn.serializeArray=function(){var t,i=[];return e(Array.prototype.slice.call(this.get(0).elements)).each(function(){t=e(this);var n=t.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&("radio"!=n&&"checkbox"!=n||this.checked)&&i.push({name:t.attr("name"),value:t.val()})}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var i=e.Event("submit");this.eq(0).trigger(i),i.defaultPrevented||this.get(0).submit()}return this}}(i),function(e,t){function i(e){return n(e.replace(/([a-z])([A-Z])/,"$1-$2"))}function n(e){return e.toLowerCase()}function a(e){return o?o+e:n(e)}var o,s,r,l,d,c,_,p,m="",u={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},h=window.document,f=h.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,v={};e.each(u,function(e,i){return f.style[e+"TransitionProperty"]!==t?(m="-"+n(e)+"-",o=i,!1):t}),s=m+"transform",v[r=m+"transition-property"]=v[l=m+"transition-duration"]=v[d=m+"transition-timing-function"]=v[c=m+"animation-name"]=v[_=m+"animation-duration"]=v[p=m+"animation-timing-function"]="",e.fx={off:o===t&&f.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:a("TransitionEnd"),animationEnd:a("AnimationEnd")},e.fn.animate=function(t,i,n,a){return e.isPlainObject(i)&&(n=i.easing,a=i.complete,i=i.duration),i&&(i=("number"==typeof i?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3),this.anim(t,i,n,a)},e.fn.anim=function(n,a,o,m){var u,h,f,b={},w="",y=this,x=e.fx.transitionEnd;if(a===t&&(a=.4),e.fx.off&&(a=0),"string"==typeof n)b[c]=n,b[_]=a+"s",b[p]=o||"linear",x=e.fx.animationEnd;else{h=[];for(u in n)g.test(u)?w+=u+"("+n[u]+") ":(b[u]=n[u],h.push(i(u)));w&&(b[s]=w,h.push(s)),a>0&&"object"==typeof n&&(b[r]=h.join(", "),b[l]=a+"s",b[d]=o||"linear")}return f=function(i){if(i!==t){if(i.target!==i.currentTarget)return;e(i.target).unbind(x,f)}e(this).css(v),m&&m.call(this)},a>0&&this.bind(x,f),this.size()&&this.get(0).clientLeft,this.css(b),0>=a&&setTimeout(function(){y.each(function(){f.call(this)})},0),this},f=null}(i),window.Zepto=e,window.$=t,i}),define("base/hammer.jq",[],function(){function e(e){(function(e,t){"use strict";function i(){if(!n.READY){n.event.determineEventTypes();for(var e in n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}}var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(e,t){var a=this;return i(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(e,n.EVENT_START,function(e){a.enabled&&n.detection.startDetect(a,e)}),this},n.Instance.prototype={on:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.addEventListener(i[n],t,!1);return this},off:function(e,t){for(var i=e.split(" "),n=0;i.length>n;n++)this.element.removeEventListener(i[n],t,!1);return this},trigger:function(e,t){var i=n.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;var a=this.element;return n.utils.hasParent(t.target,a)&&(a=t.target),a.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var a=null,o=!1,s=!1;n.event={bindDom:function(e,t,i){for(var n=t.split(" "),a=0;n.length>a;a++)e.addEventListener(n[a],i,!1)},onTouch:function(e,t,i){var r=this;this.bindDom(e,n.EVENT_TYPES[t],function(l){var d=l.type.toLowerCase();if(!d.match(/mouse/)||!s){(d.match(/touch/)||d.match(/pointerdown/)||d.match(/mouse/)&&1===l.which)&&(o=!0),d.match(/touch|pointer/)&&(s=!0);var c=0;o&&(n.HAS_POINTEREVENTS&&t!=n.EVENT_END?c=n.PointerEvent.updatePointer(t,l):d.match(/touch/)?c=l.touches.length:s||(c=d.match(/up/)?0:1),c>0&&t==n.EVENT_END?t=n.EVENT_MOVE:c||(t=n.EVENT_END),c||null===a?a=l:l=a,i.call(n.detection,r.collectEventData(e,t,l)),n.HAS_POINTEREVENTS&&t==n.EVENT_END&&(c=n.PointerEvent.updatePointer(t,l))),c||(a=null,o=!1,s=!1,n.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=n.HAS_POINTEREVENTS?n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=e[0],n.EVENT_TYPES[n.EVENT_MOVE]=e[1],n.EVENT_TYPES[n.EVENT_END]=e[2]},getTouchList:function(e){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,i){var a=this.getTouchList(i,t),o=n.POINTER_TOUCH;return(i.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,i))&&(o=n.POINTER_MOUSE),{center:n.utils.getCenter(a),timeStamp:(new Date).getTime(),target:i.target,touches:a,eventType:t,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(i){t.push(e.pointers[i])}),t},updatePointer:function(e,t){return e==n.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var i={};return i[n.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==n.POINTER_MOUSE,i[n.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==n.POINTER_TOUCH,i[n.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==n.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function(e,i,n){for(var a in i)e[a]!==t&&n||(e[a]=i[a]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],i=[],n=0,a=e.length;a>n;n++)t.push(e[n].pageX),i.push(e[n].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.pageY-e.pageY,n=t.pageX-e.pageX;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX),a=Math.abs(e.pageY-t.pageY);return i>=a?e.pageX-t.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:e.pageY-t.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(e,t){var i=t.pageX-e.pageX,n=t.pageY-e.pageY;return Math.sqrt(i*i+n*n)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==n.DIRECTION_UP||e==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var i,n=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var a=0;n.length>a;a++)for(var o in t)t.hasOwnProperty(o)&&(i=o,n[a]&&(i=n[a]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:n.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,i=0,a=this.gestures.length;a>i;i++){var o=this.gestures[i];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();
break}}return this.current&&(this.current.lastEvent=e),e.eventType==n.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var i=0,a=e.touches.length;a>i;i++)t.touches.push(n.utils.extend({},e.touches[i]))}var o=e.timeStamp-t.timeStamp,s=e.center.pageX-t.center.pageX,r=e.center.pageY-t.center.pageY,l=n.utils.getVelocity(o,s,r);return n.utils.extend(e,{deltaTime:o,deltaX:s,deltaY:r,velocityX:l.x,velocityY:l.y,distance:n.utils.getDistance(t.center,e.center),angle:n.utils.getAngle(t.center,e.center),direction:n.utils.getDirection(t.center,e.center),scale:n.utils.getScale(t.touches,e.touches),rotation:n.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var i=e.defaults||{};return i[e.name]===t&&(i[e.name]=!0),n.utils.extend(n.defaults,i,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==n.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case n.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==n.EVENT_END){var i=n.detection.previous,a=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;i&&"tap"==i.name&&e.timeStamp-i.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),a=!0),(!a||t.options.tap_always)&&(n.detection.current.name="tap",t.trigger(n.detection.current.name,e))}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==n.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,i){if(n.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(i.options.drag_max_touches>0&&e.touches.length>i.options.drag_max_touches))switch(e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(e.distance<i.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name,(n.detection.current.lastEvent.drag_locked_to_axis||i.options.drag_lock_to_axis&&i.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var a=n.detection.current.lastEvent.direction;e.drag_locked_to_axis&&a!==e.direction&&(e.direction=n.utils.isVertical(a)?0>e.deltaY?n.DIRECTION_UP:n.DIRECTION_DOWN:0>e.deltaX?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),i.trigger(this.name+e.direction,e),(i.options.drag_block_vertical&&n.utils.isVertical(e.direction)||i.options.drag_block_horizontal&&!n.utils.isVertical(e.direction))&&e.preventDefault();break;case n.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,i){if(n.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(i.options.transform_always_block&&e.preventDefault(),e.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var a=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(i.options.transform_min_scale>a&&i.options.transform_min_rotation>o)return;n.detection.current.name=this.name,this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),o>i.options.transform_min_rotation&&i.trigger("rotate",e),a>i.options.transform_min_scale&&(i.trigger("pinch",e),i.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case n.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,i){return i.options.prevent_mouseevents&&e.pointerType==n.POINTER_MOUSE?(e.stopDetect(),t):(i.options.prevent_default&&e.preventDefault(),e.eventType==n.EVENT_START&&i.trigger(this.name,e),t)}},n.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==n.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:(e.Hammer=n,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return n}))})(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(i,n,a){e(i).on(n,function(e){var i=e.originalEvent||e;i.pageX===t&&(i.pageX=e.pageX,i.pageY=e.pageY),i.target||(i.target=e.target),i.which===t&&(i.which=i.button),i.preventDefault||(i.preventDefault=e.preventDefault),i.stopPropagation||(i.stopPropagation=e.stopPropagation),a.call(this,i)})},Hammer.Instance.prototype.on=function(t,i){return e(this.element).on(t,i)},Hammer.Instance.prototype.off=function(t,i){return e(this.element).off(t,i)},Hammer.Instance.prototype.trigger=function(t,i){var n=e(this.element);return n.has(i.target).length&&(n=e(i.target)),n.trigger({type:t,gesture:i})},e.fn.hammer=function(t){return this.each(function(){var i=e(this),n=i.data("hammer");n?n&&t&&Hammer.utils.extend(n.options,t):i.data("hammer",new Hammer(this,t||{}))})})}(e)}return e}),define("base/iscroll",[],function(e,t,i){(function(e,i){function n(e){return""===s?e:(e=e.charAt(0).toUpperCase()+e.substr(1),s+e)}var a=Math,o=i.createElement("div").style,s=function(){for(var e,t="t,webkitT,MozT,msT,OT".split(","),i=0,n=t.length;n>i;i++)if(e=t[i]+"ransform",e in o)return t[i].substr(0,t[i].length-1);return!1}(),r=s?"-"+s.toLowerCase()+"-":"",l=n("transform"),d=n("transitionProperty"),c=n("transitionDuration"),_=n("transformOrigin"),p=n("transitionTimingFunction"),m=n("transitionDelay"),u=/android/gi.test(navigator.appVersion),h=/iphone|ipad/gi.test(navigator.appVersion),f=/hp-tablet/gi.test(navigator.appVersion),g=n("perspective")in o,v="ontouchstart"in e&&!f,b=s!==!1,w=n("transition")in o,y="onorientationchange"in e?"orientationchange":"resize",x=v?"touchstart":"mousedown",k=v?"touchmove":"mousemove",$=v?"touchend":"mouseup",z=v?"touchcancel":"mouseup",j=function(){if(s===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[s]}(),T=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),S=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),E=g?" translateZ(0)":"",C=function(t,n){var a,o=this;o.wrapper="object"==typeof t?t:i.getElementById(t),o.wrapper.style.overflow="hidden",o.scroller=o.wrapper.children[0],o.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:u,hideScrollbar:h,fadeScrollbar:h&&g,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(a in n)o.options[a]=n[a];o.x=o.options.x,o.y=o.options.y,o.options.useTransform=b&&o.options.useTransform,o.options.hScrollbar=o.options.hScroll&&o.options.hScrollbar,o.options.vScrollbar=o.options.vScroll&&o.options.vScrollbar,o.options.zoom=o.options.useTransform&&o.options.zoom,o.options.useTransition=w&&o.options.useTransition,o.options.zoom&&u&&(E=""),o.scroller.style[d]=o.options.useTransform?r+"transform":"top left",o.scroller.style[c]="0",o.scroller.style[_]="0 0",o.options.useTransition&&(o.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),o.options.useTransform?o.scroller.style[l]="translate("+o.x+"px,"+o.y+"px)"+E:o.scroller.style.cssText+=";position:absolute;top:"+o.y+"px;left:"+o.x+"px",o.options.useTransition&&(o.options.fixedScrollbar=!0),o.refresh(),o._bind(y,e),o._bind(x),v||"none"!=o.options.wheelAction&&(o._bind("DOMMouseScroll"),o._bind("mousewheel")),o.options.checkDOMChanges&&(o.checkDOMTime=setInterval(function(){o._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case x:if(!v&&0!==e.button)return;t._start(e);break;case k:t._move(e);break;case $:case z:t._end(e);break;case y:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case j:t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(e){var t,n=this;return n[e+"Scrollbar"]?(n[e+"ScrollbarWrapper"]||(t=i.createElement("div"),n.options.scrollbarClass?t.className=n.options.scrollbarClass+e.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(n.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(n.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;"+r+"transition-property:opacity;"+r+"transition-duration:"+(n.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(n.options.hideScrollbar?"0":"1"),n.wrapper.appendChild(t),n[e+"ScrollbarWrapper"]=t,t=i.createElement("div"),n.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+r+"background-clip:padding-box;"+r+"box-sizing:border-box;"+("h"==e?"height:100%":"width:100%")+";"+r+"border-radius:3px;border-radius:3px"),t.style.cssText+=";pointer-events:none;"+r+"transition-property:"+r+"transform;"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+r+"transition-duration:0;"+r+"transform: translate(0,0)"+E,n.options.useTransition&&(t.style.cssText+=";"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),n[e+"ScrollbarWrapper"].appendChild(t),n[e+"ScrollbarIndicator"]=t),"h"==e?(n.hScrollbarSize=n.hScrollbarWrapper.clientWidth,n.hScrollbarIndicatorSize=a.max(a.round(n.hScrollbarSize*n.hScrollbarSize/n.scrollerW),30),n.hScrollbarIndicator.style.width=n.hScrollbarIndicatorSize+"px",n.hScrollbarMaxScroll=n.hScrollbarSize-n.hScrollbarIndicatorSize,n.hScrollbarProp=n.hScrollbarMaxScroll/n.maxScrollX):(n.vScrollbarSize=n.vScrollbarWrapper.clientHeight,n.vScrollbarIndicatorSize=a.max(a.round(n.vScrollbarSize*n.vScrollbarSize/n.scrollerH),30),n.vScrollbarIndicator.style.height=n.vScrollbarIndicatorSize+"px",n.vScrollbarMaxScroll=n.vScrollbarSize-n.vScrollbarIndicatorSize,n.vScrollbarProp=n.vScrollbarMaxScroll/n.maxScrollY),n._scrollbarPos(e,!0),void 0):(n[e+"ScrollbarWrapper"]&&(b&&(n[e+"ScrollbarIndicator"].style[l]=""),n[e+"ScrollbarWrapper"].parentNode.removeChild(n[e+"ScrollbarWrapper"]),n[e+"ScrollbarWrapper"]=null,n[e+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},u?200:0)},_pos:function(e,t){this.zoomed||(e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[l]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+E:(e=a.round(e),t=a.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(e,t){var i,n=this,o="h"==e?n.x:n.y;n[e+"Scrollbar"]&&(o=n[e+"ScrollbarProp"]*o,0>o?(n.options.fixedScrollbar||(i=n[e+"ScrollbarIndicatorSize"]+a.round(3*o),30>i&&(i=30),n[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px"),o=0):o>n[e+"ScrollbarMaxScroll"]&&(n.options.fixedScrollbar?o=n[e+"ScrollbarMaxScroll"]:(i=n[e+"ScrollbarIndicatorSize"]-a.round(3*(o-n[e+"ScrollbarMaxScroll"])),30>i&&(i=30),n[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px",o=n[e+"ScrollbarMaxScroll"]+(n[e+"ScrollbarIndicatorSize"]-i))),n[e+"ScrollbarWrapper"].style[m]="0",n[e+"ScrollbarWrapper"].style.opacity=t&&n.options.hideScrollbar?"0":"1",n[e+"ScrollbarIndicator"].style[l]="translate("+("h"==e?o+"px,0)":"0,"+o+"px)")+E)},_start:function(t){var i,n,o,s,r,d=this,c=v?t.touches[0]:t;d.enabled&&(d.options.onBeforeScrollStart&&d.options.onBeforeScrollStart.call(d,t),(d.options.useTransition||d.options.zoom)&&d._transitionTime(0),d.moved=!1,d.animating=!1,d.zoomed=!1,d.distX=0,d.distY=0,d.absDistX=0,d.absDistY=0,d.dirX=0,d.dirY=0,d.options.zoom&&v&&t.touches.length>1&&(s=a.abs(t.touches[0].pageX-t.touches[1].pageX),r=a.abs(t.touches[0].pageY-t.touches[1].pageY),d.touchesDistStart=a.sqrt(s*s+r*r),d.originX=a.abs(t.touches[0].pageX+t.touches[1].pageX-2*d.wrapperOffsetLeft)/2-d.x,d.originY=a.abs(t.touches[0].pageY+t.touches[1].pageY-2*d.wrapperOffsetTop)/2-d.y,d.options.onZoomStart&&d.options.onZoomStart.call(d,t)),d.options.momentum&&(d.options.useTransform?(i=getComputedStyle(d.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),n=+(i[12]||i[4]),o=+(i[13]||i[5])):(n=+getComputedStyle(d.scroller,null).left.replace(/[^0-9-]/g,""),o=+getComputedStyle(d.scroller,null).top.replace(/[^0-9-]/g,"")),(n!=d.x||o!=d.y)&&(d.options.useTransition?d._unbind(j):S(d.aniTime),d.steps=[],d._pos(n,o),d.options.onScrollEnd&&d.options.onScrollEnd.call(d))),d.absStartX=d.x,d.absStartY=d.y,d.startX=d.x,d.startY=d.y,d.pointX=c.pageX,d.pointY=c.pageY,d.startTime=t.timeStamp||Date.now(),d.options.onScrollStart&&d.options.onScrollStart.call(d,t),d._bind(k,e),d._bind($,e),d._bind(z,e))},_move:function(e){var t,i,n,o=this,s=v?e.touches[0]:e,r=s.pageX-o.pointX,d=s.pageY-o.pointY,c=o.x+r,_=o.y+d,p=e.timeStamp||Date.now();return o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,e),o.options.zoom&&v&&e.touches.length>1?(t=a.abs(e.touches[0].pageX-e.touches[1].pageX),i=a.abs(e.touches[0].pageY-e.touches[1].pageY),o.touchesDist=a.sqrt(t*t+i*i),o.zoomed=!0,n=1/o.touchesDistStart*o.touchesDist*this.scale,o.options.zoomMin>n?n=.5*o.options.zoomMin*Math.pow(2,n/o.options.zoomMin):n>o.options.zoomMax&&(n=2*o.options.zoomMax*Math.pow(.5,o.options.zoomMax/n)),o.lastScale=n/this.scale,c=this.originX-this.originX*o.lastScale+this.x,_=this.originY-this.originY*o.lastScale+this.y,this.scroller.style[l]="translate("+c+"px,"+_+"px) scale("+n+")"+E,o.options.onZoom&&o.options.onZoom.call(o,e),void 0):(o.pointX=s.pageX,o.pointY=s.pageY,(c>0||o.maxScrollX>c)&&(c=o.options.bounce?o.x+r/2:c>=0||o.maxScrollX>=0?0:o.maxScrollX),(_>o.minScrollY||o.maxScrollY>_)&&(_=o.options.bounce?o.y+d/2:_>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=r,o.distY+=d,o.absDistX=a.abs(o.distX),o.absDistY=a.abs(o.distY),6>o.absDistX&&6>o.absDistY||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(_=o.y,d=0):o.absDistY>o.absDistX+5&&(c=o.x,r=0)),o.moved=!0,o._pos(c,_),o.dirX=r>0?-1:0>r?1:0,o.dirY=d>0?-1:0>d?1:0,p-o.startTime>300&&(o.startTime=p,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,e)),void 0)},_end:function(t){if(!v||0===t.touches.length){var n,o,s,r,d,_,p,m=this,u=v?t.changedTouches[0]:t,h={dist:0,time:0},f={dist:0,time:0},g=(t.timeStamp||Date.now())-m.startTime,b=m.x,w=m.y;return m._unbind(k,e),m._unbind($,e),m._unbind(z,e),m.options.onBeforeScrollEnd&&m.options.onBeforeScrollEnd.call(m,t),m.zoomed?(p=m.scale*m.lastScale,p=Math.max(m.options.zoomMin,p),p=Math.min(m.options.zoomMax,p),m.lastScale=p/m.scale,m.scale=p,m.x=m.originX-m.originX*m.lastScale+m.x,m.y=m.originY-m.originY*m.lastScale+m.y,m.scroller.style[c]="200ms",m.scroller.style[l]="translate("+m.x+"px,"+m.y+"px) scale("+m.scale+")"+E,m.zoomed=!1,m.refresh(),m.options.onZoomEnd&&m.options.onZoomEnd.call(m,t),void 0):m.moved?(300>g&&m.options.momentum&&(h=b?m._momentum(b-m.startX,g,-m.x,m.scrollerW-m.wrapperW+m.x,m.options.bounce?m.wrapperW:0):h,f=w?m._momentum(w-m.startY,g,-m.y,0>m.maxScrollY?m.scrollerH-m.wrapperH+m.y-m.minScrollY:0,m.options.bounce?m.wrapperH:0):f,b=m.x+h.dist,w=m.y+f.dist,(m.x>0&&b>0||m.x<m.maxScrollX&&m.maxScrollX>b)&&(h={dist:0,time:0}),(m.y>m.minScrollY&&w>m.minScrollY||m.y<m.maxScrollY&&m.maxScrollY>w)&&(f={dist:0,time:0})),h.dist||f.dist?(d=a.max(a.max(h.time,f.time),10),m.options.snap&&(s=b-m.absStartX,r=w-m.absStartY,a.abs(s)<m.options.snapThreshold&&a.abs(r)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(_=m._snap(b,w),b=_.x,w=_.y,d=a.max(_.time,d))),m.scrollTo(a.round(b),a.round(w),d),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0):m.options.snap?(s=b-m.absStartX,r=w-m.absStartY,a.abs(s)<m.options.snapThreshold&&a.abs(r)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(_=m._snap(m.x,m.y),(_.x!=m.x||_.y!=m.y)&&m.scrollTo(_.x,_.y,_.time)),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0):(m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0)):(v&&(m.doubleTapTimer&&m.options.zoom?(clearTimeout(m.doubleTapTimer),m.doubleTapTimer=null,m.options.onZoomStart&&m.options.onZoomStart.call(m,t),m.zoom(m.pointX,m.pointY,1==m.scale?m.options.doubleTapZoom:1),m.options.onZoomEnd&&setTimeout(function(){m.options.onZoomEnd.call(m,t)},200)):this.options.handleClick&&(m.doubleTapTimer=setTimeout(function(){for(m.doubleTapTimer=null,n=u.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(o=i.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,t.view,1,u.screenX,u.screenY,u.clientX,u.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),o._fake=!0,n.dispatchEvent(o))},m.options.zoom?250:0))),m._resetPos(400),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0)}},_resetPos:function(e){var t=this,i=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,n=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return i==t.x&&n==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.hScrollbarWrapper.style[m]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.vScrollbarWrapper.style[m]="300ms"),t.vScrollbarWrapper.style.opacity="0"),void 0):(t.scrollTo(i,n,e||0),void 0)},_wheel:function(e){var t,i,n,a,o,s=this;if("wheelDeltaX"in e)t=e.wheelDeltaX/1,i=e.wheelDeltaY/1;else if("wheelDelta"in e)t=i=e.wheelDelta/1;else{if(!("detail"in e))return;t=i=3*-e.detail}return"zoom"==s.options.wheelAction?(o=s.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),s.options.zoomMin>o&&(o=s.options.zoomMin),o>s.options.zoomMax&&(o=s.options.zoomMax),o!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,e),s.wheelZoomCount++,s.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,e)},400)),void 0):(n=s.x+t,a=s.y+i,n>0?n=0:s.maxScrollX>n&&(n=s.maxScrollX),a>s.minScrollY?a=s.minScrollY:s.maxScrollY>a&&(a=s.maxScrollY),0>s.maxScrollY&&s.scrollTo(n,a,0),void 0)},_transitionEnd:function(e){var t=this;e.target==t.scroller&&(t._unbind(j),t._startAni())},_startAni:function(){var e,t,i,n=this,o=n.x,s=n.y,r=Date.now();if(!n.animating)return n.steps.length?(e=n.steps.shift(),e.x==o&&e.y==s&&(e.time=0),n.animating=!0,n.moved=!0,n.options.useTransition?(n._transitionTime(e.time),n._pos(e.x,e.y),n.animating=!1,e.time?n._bind(j):n._resetPos(0),void 0):(i=function(){var l,d,c=Date.now();return c>=r+e.time?(n._pos(e.x,e.y),n.animating=!1,n.options.onAnimationEnd&&n.options.onAnimationEnd.call(n),n._startAni(),void 0):(c=(c-r)/e.time-1,t=a.sqrt(1-c*c),l=(e.x-o)*t+o,d=(e.y-s)*t+s,n._pos(l,d),n.animating&&(n.aniTime=T(i)),void 0)},i(),void 0)):(n._resetPos(400),void 0)},_transitionTime:function(e){e+="ms",this.scroller.style[c]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=e)},_momentum:function(e,t,i,n,o){var s=6e-4,r=a.abs(e)/t,l=r*r/(2*s),d=0,c=0;return e>0&&l>i?(c=o/(6/(l/r*s)),i+=c,r=r*i/l,l=i):0>e&&l>n&&(c=o/(6/(l/r*s)),n+=c,r=r*n/l,l=n),l*=0>e?-1:1,d=r/s,{dist:l,time:a.round(d)}},_offset:function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,i*=this.scale),{left:t,top:i}},_snap:function(e,t){var i,n,o,s,r,l,d=this;for(o=d.pagesX.length-1,i=0,n=d.pagesX.length;n>i;i++)if(e>=d.pagesX[i]){o=i;break}for(o==d.currPageX&&o>0&&0>d.dirX&&o--,e=d.pagesX[o],r=a.abs(e-d.pagesX[d.currPageX]),r=r?500*(a.abs(d.x-e)/r):0,d.currPageX=o,o=d.pagesY.length-1,i=0;o>i;i++)if(t>=d.pagesY[i]){o=i;break}return o==d.currPageY&&o>0&&0>d.dirY&&o--,t=d.pagesY[o],l=a.abs(t-d.pagesY[d.currPageY]),l=l?500*(a.abs(d.y-t)/l):0,d.currPageY=o,s=a.round(a.max(r,l))||200,{x:e,y:t,time:s}},_bind:function(e,t,i){(t||this.scroller).addEventListener(e,this,!!i)},_unbind:function(e,t,i){(t||this.scroller).removeEventListener(e,this,!!i)},destroy:function(){var t=this;t.scroller.style[l]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(y,e),t._unbind(x),t._unbind(k,e),t._unbind($,e),t._unbind(z,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(j),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e,t,i,n,o=this,s=0,r=0;if(o.scale<o.options.zoomMin&&(o.scale=o.options.zoomMin),o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=a.round(o.scroller.offsetWidth*o.scale),o.scrollerH=a.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&0>o.maxScrollX,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),o.hScrollbar=o.hScroll&&o.options.hScrollbar,o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH,e=o._offset(o.wrapper),o.wrapperOffsetLeft=-e.left,o.wrapperOffsetTop=-e.top,"string"==typeof o.options.snap)for(o.pagesX=[],o.pagesY=[],n=o.scroller.querySelectorAll(o.options.snap),t=0,i=n.length;i>t;t++)s=o._offset(n[t]),s.left+=o.wrapperOffsetLeft,s.top+=o.wrapperOffsetTop,o.pagesX[t]=s.left<o.maxScrollX?o.maxScrollX:s.left*o.scale,o.pagesY[t]=s.top<o.maxScrollY?o.maxScrollY:s.top*o.scale;else if(o.options.snap){for(o.pagesX=[];s>=o.maxScrollX;)o.pagesX[r]=s,s-=o.wrapperW,r++;for(o.maxScrollX%o.wrapperW&&(o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1]),s=0,r=0,o.pagesY=[];s>=o.maxScrollY;)o.pagesY[r]=s,s-=o.wrapperH,r++;o.maxScrollY%o.wrapperH&&(o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1])}o._scrollbar("h"),o._scrollbar("v"),o.zoomed||(o.scroller.style[c]="0",o._resetPos(400))},scrollTo:function(e,t,i,n){var a,o,s=this,r=e;for(s.stop(),r.length||(r=[{x:e,y:t,time:i,relative:n}]),a=0,o=r.length;o>a;a++)r[a].relative&&(r[a].x=s.x-r[a].x,r[a].y=s.y-r[a].y),s.steps.push({x:r[a].x,y:r[a].y,time:r[a].time||0});s._startAni()},scrollToElement:function(e,t){var i,n=this;e=e.nodeType?e:n.scroller.querySelector(e),e&&(i=n._offset(e),i.left+=n.wrapperOffsetLeft,i.top+=n.wrapperOffsetTop,i.left=i.left>0?0:i.left<n.maxScrollX?n.maxScrollX:i.left,i.top=i.top>n.minScrollY?n.minScrollY:i.top<n.maxScrollY?n.maxScrollY:i.top,t=void 0===t?a.max(2*a.abs(i.left),2*a.abs(i.top)):t,n.scrollTo(i.left,i.top,t))},scrollToPage:function(e,t,i){var n,a,o=this;i=void 0===i?400:i,o.options.onScrollStart&&o.options.onScrollStart.call(o),o.options.snap?(e="next"==e?o.currPageX+1:"prev"==e?o.currPageX-1:e,t="next"==t?o.currPageY+1:"prev"==t?o.currPageY-1:t,e=0>e?0:e>o.pagesX.length-1?o.pagesX.length-1:e,t=0>t?0:t>o.pagesY.length-1?o.pagesY.length-1:t,o.currPageX=e,o.currPageY=t,n=o.pagesX[e],a=o.pagesY[t]):(n=-o.wrapperW*e,a=-o.wrapperH*t,o.maxScrollX>n&&(n=o.maxScrollX),o.maxScrollY>a&&(a=o.maxScrollY)),o.scrollTo(n,a,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(k,e),this._unbind($,e),this._unbind(z,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(j):S(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,i,n){var a=this,o=i/a.scale;a.options.useTransform&&(a.zoomed=!0,n=void 0===n?200:n,e=e-a.wrapperOffsetLeft-a.x,t=t-a.wrapperOffsetTop-a.y,a.x=e-e*o+a.x,a.y=t-t*o+a.y,a.scale=i,a.refresh(),a.x=a.x>0?0:a.x<a.maxScrollX?a.maxScrollX:a.x,a.y=a.y>a.minScrollY?a.minScrollY:a.y<a.maxScrollY?a.maxScrollY:a.y,a.scroller.style[c]=n+"ms",a.scroller.style[l]="translate("+a.x+"px,"+a.y+"px) scale("+i+")"+E,a.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},o=null,t!==void 0?t.iScroll=C:e.iScroll=C})(window,document),i.exports=t.iScroll}),define("base/mustache",[],function(e,t,i){var n;(function(e){void 0!==i&&i.exports?i.exports=e:"function"==typeof define?define(e):n=e})(function(){function e(e,t){return RegExp.prototype.test.call(e,t)}function t(t){return!e(h,t)}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e){return(e+"").replace(/[&<>"'\/]/g,function(e){return w[e]})}function a(e){this.string=e,this.tail=e,this.pos=0}function o(e,t){this.view=e,this.parent=t,this.clearCache()}function s(){this.clearCache()}function r(e){for(var t,i=e[3],n=i;(t=e[4])&&t.length;)e=t[t.length-1],n=e[3];return[i,n]}function l(e){function t(e,t,n){if(!i[e]){var a=l(t);i[e]=function(e,t){return a(e,t,n)}}return i[e]}var i={};return function(i,n,a){for(var o,s,l="",d=0,c=e.length;c>d;++d)switch(o=e[d],o[0]){case"#":s=a.slice.apply(a,r(o)),l+=i._section(o[1],n,s,t(d,o[4],a));break;case"^":l+=i._inverted(o[1],n,t(d,o[4],a));break;case">":l+=i._partial(o[1],n);break;case"&":l+=i._name(o[1],n);break;case"name":l+=i._escaped(o[1],n);break;case"text":l+=o[1]}return l}}function d(e){for(var t,i,n=[],a=n,o=[],s=0;e.length>s;++s)switch(t=e[s],t[0]){case"#":case"^":t[4]=[],o.push(t),a.push(t),a=t[4];break;case"/":if(0===o.length)throw Error("Unopened section: "+t[1]);if(i=o.pop(),i[1]!==t[1])throw Error("Unclosed section: "+i[1]);a=o.length>0?o[o.length-1][4]:n;break;default:a.push(t)}if(i=o.pop())throw Error("Unclosed section: "+i[1]);return n}function c(e){for(var t,i,n=[],a=0;e.length>a;++a)t=e[a],i&&"text"===i[0]&&"text"===t[0]?(i[1]+=t[1],i[3]=t[3]):(i=t,n.push(t));return n}function _(e){if(2!==e.length)throw Error("Invalid tags: "+e.join(" "));return[RegExp(i(e[0])+"\\s*"),RegExp("\\s*"+i(e[1]))]}var p={};p.name="mustache.js",p.version="0.7.1",p.tags=["{{","}}"],p.Scanner=a,p.Context=o,p.Writer=s;var m=/\s*/,u=/\s+/,h=/\S/,f=/\s*=/,g=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};p.escape=n,a.prototype.eos=function(){return""===this.tail},a.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},a.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return t},o.make=function(e){return e instanceof o?e:new o(e)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(e){return new o(e,this)},o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."===e)t=this.view;else for(var i=this;i;){if(e.indexOf(".")>0){var n=e.split("."),a=0;for(t=i.view;t&&n.length>a;)t=t[n[a++]]}else t=i.view[e];if(null!=t)break;i=i.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(e,t){var i=this._cache[e];if(!i){var n=p.parse(e,t);i=this._cache[e]=this.compileTokens(n,e)}return i},s.prototype.compilePartial=function(e,t,i){var n=this.compile(t,i);return this._partialCache[e]=n,n},s.prototype.compileTokens=function(e,t){var i=l(e),n=this;return function(e,a){if(a)if("function"==typeof a)n._loadPartial=a;else for(var s in a)n.compilePartial(s,a[s]);return i(n,o.make(e),t)}},s.prototype.render=function(e,t,i){return this.compile(e)(t,i)},s.prototype._section=function(e,t,i,n){var a=t.lookup(e);switch(typeof a){case"object":if(b(a)){for(var o="",s=0,r=a.length;r>s;++s)o+=n(this,t.push(a[s]));return o}return a?n(this,t.push(a)):"";case"function":var l=this,d=function(e){return l.render(e,t)},c=a.call(t.view,i,d);return null!=c?c:"";default:if(a)return n(this,t)}return""},s.prototype._inverted=function(e,t,i){var n=t.lookup(e);return!n||b(n)&&0===n.length?i(this,t):""},s.prototype._partial=function(e,t){e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e));var i=this._partialCache[e];return i?i(t):""},s.prototype._name=function(e,t){var i=t.lookup(e);return"function"==typeof i&&(i=i.call(t.view)),null==i?"":i+""},s.prototype._escaped=function(e,t){return p.escape(this._name(e,t))},p.parse=function(e,n){function o(){if(k&&!$)for(;x.length;)y.splice(x.pop(),1);else x=[];k=!1,$=!1}e=e||"",n=n||p.tags;for(var s,r,l,h,b=_(n),w=new a(e),y=[],x=[],k=!1,$=!1;!w.eos();){if(s=w.pos,l=w.scanUntil(b[0]))for(var z=0,j=l.length;j>z;++z)h=l.charAt(z),t(h)?x.push(y.length):$=!0,y.push(["text",h,s,s+1]),s+=1,"\n"===h&&o();if(s=w.pos,!w.scan(b[0]))break;if(k=!0,r=w.scan(v)||"name",w.scan(m),"="===r)l=w.scanUntil(f),w.scan(f),w.scanUntil(b[1]);else if("{"===r){var T=RegExp("\\s*"+i("}"+n[1]));l=w.scanUntil(T),w.scan(g),w.scanUntil(b[1]),r="&"}else l=w.scanUntil(b[1]);if(!w.scan(b[1]))throw Error("Unclosed tag at "+w.pos);y.push([r,l,s,w.pos]),("name"===r||"{"===r||"&"===r)&&($=!0),"="===r&&(n=l.split(u),b=_(n))}return y=c(y),d(y)};var y=new s;return p.clearCache=function(){return y.clearCache()},p.compile=function(e,t){return y.compile(e,t)},p.compilePartial=function(e,t,i){return y.compilePartial(e,t,i)},p.compileTokens=function(e,t){return y.compileTokens(e,t)},p.render=function(e,t,i){return y.render(e,t,i)},p.to_html=function(e,t,i,n){var a=p.render(e,t,i);return"function"!=typeof n?a:(n(a),void 0)},p}())}),define("base/cookies",[],function(e,t){function i(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}t.writeCookie=function(e,t,i,n,a){if(t=encodeURIComponent(t),n&&(t+="; domain="+n),a&&(t+="; path="+a),i){var o=new Date;o.setTime(o.getTime()+36e5*i),t+="; expires="+o.toGMTString()
}document.cookie=e+"="+t},t.readCookie=function(e){var t=document.cookie.match("(?:^|;)\\s*"+i(e)+"=([^;]*)");return t?decodeURIComponent(t[1]):null},t.delCookie=function(e,t,i){this.writeCookie(e,"",-1,t,i)}});
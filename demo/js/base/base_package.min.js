define("base/underscore",[],function(e,t,i){(function(){var e=this,a=e._,n={},o=Array.prototype,s=Object.prototype,r=Function.prototype,l=o.push,d=o.slice,c=o.concat,_=s.toString,p=s.hasOwnProperty,m=o.forEach,u=o.map,h=o.reduce,f=o.reduceRight,g=o.filter,v=o.every,b=o.some,w=o.indexOf,y=o.lastIndexOf,x=Array.isArray,k=Object.keys,$=r.bind,j=function(e){return e instanceof j?e:this instanceof j?(this._wrapped=e,void 0):new j(e)};void 0!==t?(void 0!==i&&i.exports&&(t=i.exports=j),t._=j):e._=j,j.VERSION="1.4.3";var z=j.each=j.forEach=function(e,t,i){if(null!=e)if(m&&e.forEach===m)e.forEach(t,i);else if(e.length===+e.length){for(var a=0,o=e.length;o>a;a++)if(t.call(i,e[a],a,e)===n)return}else for(var s in e)if(j.has(e,s)&&t.call(i,e[s],s,e)===n)return};j.map=j.collect=function(e,t,i){var a=[];return null==e?a:u&&e.map===u?e.map(t,i):(z(e,function(e,n,o){a[a.length]=t.call(i,e,n,o)}),a)};var T="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(e,t,i,a){var n=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return a&&(t=j.bind(t,a)),n?e.reduce(t,i):e.reduce(t);if(z(e,function(e,o,s){n?i=t.call(a,i,e,o,s):(i=e,n=!0)}),!n)throw new TypeError(T);return i},j.reduceRight=j.foldr=function(e,t,i,a){var n=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return a&&(t=j.bind(t,a)),n?e.reduceRight(t,i):e.reduceRight(t);var o=e.length;if(o!==+o){var s=j.keys(e);o=s.length}if(z(e,function(r,l,d){l=s?s[--o]:--o,n?i=t.call(a,i,e[l],l,d):(i=e[l],n=!0)}),!n)throw new TypeError(T);return i},j.find=j.detect=function(e,t,i){var a;return S(e,function(e,n,o){return t.call(i,e,n,o)?(a=e,!0):void 0}),a},j.filter=j.select=function(e,t,i){var a=[];return null==e?a:g&&e.filter===g?e.filter(t,i):(z(e,function(e,n,o){t.call(i,e,n,o)&&(a[a.length]=e)}),a)},j.reject=function(e,t,i){return j.filter(e,function(e,a,n){return!t.call(i,e,a,n)},i)},j.every=j.all=function(e,t,i){t||(t=j.identity);var a=!0;return null==e?a:v&&e.every===v?e.every(t,i):(z(e,function(e,o,s){return(a=a&&t.call(i,e,o,s))?void 0:n}),!!a)};var S=j.some=j.any=function(e,t,i){t||(t=j.identity);var a=!1;return null==e?a:b&&e.some===b?e.some(t,i):(z(e,function(e,o,s){return a||(a=t.call(i,e,o,s))?n:void 0}),!!a)};j.contains=j.include=function(e,t){return null==e?!1:w&&e.indexOf===w?-1!=e.indexOf(t):S(e,function(e){return e===t})},j.invoke=function(e,t){var i=d.call(arguments,2);return j.map(e,function(e){return(j.isFunction(t)?t:e[t]).apply(e,i)})},j.pluck=function(e,t){return j.map(e,function(e){return e[t]})},j.where=function(e,t){return j.isEmpty(t)?[]:j.filter(e,function(e){for(var i in t)if(t[i]!==e[i])return!1;return!0})},j.max=function(e,t,i){if(!t&&j.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&j.isEmpty(e))return-1/0;var a={computed:-1/0,value:-1/0};return z(e,function(e,n,o){var s=t?t.call(i,e,n,o):e;s>=a.computed&&(a={value:e,computed:s})}),a.value},j.min=function(e,t,i){if(!t&&j.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&j.isEmpty(e))return 1/0;var a={computed:1/0,value:1/0};return z(e,function(e,n,o){var s=t?t.call(i,e,n,o):e;a.computed>s&&(a={value:e,computed:s})}),a.value},j.shuffle=function(e){var t,i=0,a=[];return z(e,function(e){t=j.random(i++),a[i-1]=a[t],a[t]=e}),a};var E=function(e){return j.isFunction(e)?e:function(t){return t[e]}};j.sortBy=function(e,t,i){var a=E(t);return j.pluck(j.map(e,function(e,t,n){return{value:e,index:t,criteria:a.call(i,e,t,n)}}).sort(function(e,t){var i=e.criteria,a=t.criteria;if(i!==a){if(i>a||void 0===i)return 1;if(a>i||void 0===a)return-1}return e.index<t.index?-1:1}),"value")};var C=function(e,t,i,a){var n={},o=E(t||j.identity);return z(e,function(t,s){var r=o.call(i,t,s,e);a(n,r,t)}),n};j.groupBy=function(e,t,i){return C(e,t,i,function(e,t,i){(j.has(e,t)?e[t]:e[t]=[]).push(i)})},j.countBy=function(e,t,i){return C(e,t,i,function(e,t){j.has(e,t)||(e[t]=0),e[t]++})},j.sortedIndex=function(e,t,i,a){i=null==i?j.identity:E(i);for(var n=i.call(a,t),o=0,s=e.length;s>o;){var r=o+s>>>1;n>i.call(a,e[r])?o=r+1:s=r}return o},j.toArray=function(e){return e?j.isArray(e)?d.call(e):e.length===+e.length?j.map(e,j.identity):j.values(e):[]},j.size=function(e){return null==e?0:e.length===+e.length?e.length:j.keys(e).length},j.first=j.head=j.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:d.call(e,0,t)},j.initial=function(e,t,i){return d.call(e,0,e.length-(null==t||i?1:t))},j.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:d.call(e,Math.max(e.length-t,0))},j.rest=j.tail=j.drop=function(e,t,i){return d.call(e,null==t||i?1:t)},j.compact=function(e){return j.filter(e,j.identity)};var I=function(e,t,i){return z(e,function(e){j.isArray(e)?t?l.apply(i,e):I(e,t,i):i.push(e)}),i};j.flatten=function(e,t){return I(e,t,[])},j.without=function(e){return j.difference(e,d.call(arguments,1))},j.uniq=j.unique=function(e,t,i,a){j.isFunction(t)&&(a=i,i=t,t=!1);var n=i?j.map(e,i,a):e,o=[],s=[];return z(n,function(i,a){(t?a&&s[s.length-1]===i:j.contains(s,i))||(s.push(i),o.push(e[a]))}),o},j.union=function(){return j.uniq(c.apply(o,arguments))},j.intersection=function(e){var t=d.call(arguments,1);return j.filter(j.uniq(e),function(e){return j.every(t,function(t){return j.indexOf(t,e)>=0})})},j.difference=function(e){var t=c.apply(o,d.call(arguments,1));return j.filter(e,function(e){return!j.contains(t,e)})},j.zip=function(){for(var e=d.call(arguments),t=j.max(j.pluck(e,"length")),i=Array(t),a=0;t>a;a++)i[a]=j.pluck(e,""+a);return i},j.object=function(e,t){if(null==e)return{};for(var i={},a=0,n=e.length;n>a;a++)t?i[e[a]]=t[a]:i[e[a][0]]=e[a][1];return i},j.indexOf=function(e,t,i){if(null==e)return-1;var a=0,n=e.length;if(i){if("number"!=typeof i)return a=j.sortedIndex(e,t),e[a]===t?a:-1;a=0>i?Math.max(0,n+i):i}if(w&&e.indexOf===w)return e.indexOf(t,i);for(;n>a;a++)if(e[a]===t)return a;return-1},j.lastIndexOf=function(e,t,i){if(null==e)return-1;var a=null!=i;if(y&&e.lastIndexOf===y)return a?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var n=a?i:e.length;n--;)if(e[n]===t)return n;return-1},j.range=function(e,t,i){1>=arguments.length&&(t=e||0,e=0),i=arguments[2]||1;for(var a=Math.max(Math.ceil((t-e)/i),0),n=0,o=Array(a);a>n;)o[n++]=e,e+=i;return o};var N=function(){};j.bind=function(e,t){var i,a;if(e.bind===$&&$)return $.apply(e,d.call(arguments,1));if(!j.isFunction(e))throw new TypeError;return i=d.call(arguments,2),a=function(){if(!(this instanceof a))return e.apply(t,i.concat(d.call(arguments)));N.prototype=e.prototype;var n=new N;N.prototype=null;var o=e.apply(n,i.concat(d.call(arguments)));return Object(o)===o?o:n}},j.bindAll=function(e){var t=d.call(arguments,1);return 0==t.length&&(t=j.functions(e)),z(t,function(t){e[t]=j.bind(e[t],e)}),e},j.memoize=function(e,t){var i={};return t||(t=j.identity),function(){var a=t.apply(this,arguments);return j.has(i,a)?i[a]:i[a]=e.apply(this,arguments)}},j.delay=function(e,t){var i=d.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},j.defer=function(e){return j.delay.apply(j,[e,1].concat(d.call(arguments,1)))},j.throttle=function(e,t){var i,a,n,o,s=0,r=function(){s=new Date,n=null,o=e.apply(i,a)};return function(){var l=new Date,d=t-(l-s);return i=this,a=arguments,0>=d?(clearTimeout(n),n=null,s=l,o=e.apply(i,a)):n||(n=setTimeout(r,d)),o}},j.debounce=function(e,t,i){var a,n;return function(){var o=this,s=arguments,r=function(){a=null,i||(n=e.apply(o,s))},l=i&&!a;return clearTimeout(a),a=setTimeout(r,t),l&&(n=e.apply(o,s)),n}},j.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},j.wrap=function(e,t){return function(){var i=[e];return l.apply(i,arguments),t.apply(this,i)}},j.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},j.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},j.keys=k||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var i in e)j.has(e,i)&&(t[t.length]=i);return t},j.values=function(e){var t=[];for(var i in e)j.has(e,i)&&t.push(e[i]);return t},j.pairs=function(e){var t=[];for(var i in e)j.has(e,i)&&t.push([i,e[i]]);return t},j.invert=function(e){var t={};for(var i in e)j.has(e,i)&&(t[e[i]]=i);return t},j.functions=j.methods=function(e){var t=[];for(var i in e)j.isFunction(e[i])&&t.push(i);return t.sort()},j.extend=function(e){return z(d.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},j.pick=function(e){var t={},i=c.apply(o,d.call(arguments,1));return z(i,function(i){i in e&&(t[i]=e[i])}),t},j.omit=function(e){var t={},i=c.apply(o,d.call(arguments,1));for(var a in e)j.contains(i,a)||(t[a]=e[a]);return t},j.defaults=function(e){return z(d.call(arguments,1),function(t){if(t)for(var i in t)null==e[i]&&(e[i]=t[i])}),e},j.clone=function(e){return j.isObject(e)?j.isArray(e)?e.slice():j.extend({},e):e},j.tap=function(e,t){return t(e),e};var q=function(e,t,i,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof j&&(e=e._wrapped),t instanceof j&&(t=t._wrapped);var n=_.call(e);if(n!=_.call(t))return!1;switch(n){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]==e)return a[o]==t;i.push(e),a.push(t);var s=0,r=!0;if("[object Array]"==n){if(s=e.length,r=s==t.length)for(;s--&&(r=q(e[s],t[s],i,a)););}else{var l=e.constructor,d=t.constructor;if(l!==d&&!(j.isFunction(l)&&l instanceof l&&j.isFunction(d)&&d instanceof d))return!1;for(var c in e)if(j.has(e,c)&&(s++,!(r=j.has(t,c)&&q(e[c],t[c],i,a))))break;if(r){for(c in t)if(j.has(t,c)&&!s--)break;r=!s}}return i.pop(),a.pop(),r};j.isEqual=function(e,t){return q(e,t,[],[])},j.isEmpty=function(e){if(null==e)return!0;if(j.isArray(e)||j.isString(e))return 0===e.length;for(var t in e)if(j.has(e,t))return!1;return!0},j.isElement=function(e){return!(!e||1!==e.nodeType)},j.isArray=x||function(e){return"[object Array]"==_.call(e)},j.isObject=function(e){return e===Object(e)},z(["Arguments","Function","String","Number","Date","RegExp"],function(e){j["is"+e]=function(t){return _.call(t)=="[object "+e+"]"}}),j.isArguments(arguments)||(j.isArguments=function(e){return!(!e||!j.has(e,"callee"))}),j.isFunction=function(e){return"function"==typeof e},j.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},j.isNaN=function(e){return j.isNumber(e)&&e!=+e},j.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==_.call(e)},j.isNull=function(e){return null===e},j.isUndefined=function(e){return void 0===e},j.has=function(e,t){return p.call(e,t)},j.noConflict=function(){return e._=a,this},j.identity=function(e){return e},j.times=function(e,t,i){for(var a=Array(e),n=0;e>n;n++)a[n]=t.call(i,n);return a},j.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};O.unescape=j.invert(O.escape);var P={escape:RegExp("["+j.keys(O.escape).join("")+"]","g"),unescape:RegExp("("+j.keys(O.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(e){j[e]=function(t){return null==t?"":(""+t).replace(P[e],function(t){return O[e][t]})}}),j.result=function(e,t){if(null==e)return null;var i=e[t];return j.isFunction(i)?i.call(e):i},j.mixin=function(e){z(j.functions(e),function(t){var i=j[t]=e[t];j.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),A.call(this,i.apply(j,e))}})};var D=0;j.uniqueId=function(e){var t=""+ ++D;return e?e+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(e,t,i){i=j.defaults({},i,j.templateSettings);var a=RegExp([(i.escape||M).source,(i.interpolate||M).source,(i.evaluate||M).source].join("|")+"|$","g"),n=0,o="__p+='";e.replace(a,function(t,i,a,s,r){return o+=e.slice(n,r).replace(R,function(e){return"\\"+V[e]}),i&&(o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),a&&(o+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),s&&(o+="';\n"+s+"\n__p+='"),n=r+t.length,t}),o+="';\n",i.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=Function(i.variable||"obj","_",o)}catch(r){throw r.source=o,r}if(t)return s(t,j);var l=function(e){return s.call(this,e,j)};return l.source="function("+(i.variable||"obj")+"){\n"+o+"}",l},j.chain=function(e){return j(e).chain()};var A=function(e){return this._chain?j(e).chain():e};j.mixin(j),z(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];j.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],A.call(this,i)}}),z(["concat","join","slice"],function(e){var t=o[e];j.prototype[e]=function(){return A.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}),define("base/backbone",["underscore","zepto"],function(e,t){var i=this._,a=this.jQuery;this._=e("underscore"),this.jQuery=e("zepto"),function(){var i,a=this,n=a.Backbone,o=[],s=o.push,r=o.slice,l=o.splice;i=void 0!==t?t:a.Backbone={},i.VERSION="0.9.9";var d=a._;d||void 0===e||(d=e("gallery/underscore/1.4.2/underscore")),i.$=a.jQuery||a.Zepto||a.ender,i.noConflict=function(){return a.Backbone=n,this},i.emulateHTTP=!1,i.emulateJSON=!1;var c=/\s+/,_=function(e,t,i,a){if(!i)return!0;if("object"==typeof i)for(var n in i)e[t].apply(e,[n,i[n]].concat(a));else{if(!c.test(i))return!0;for(var o=i.split(c),s=0,r=o.length;r>s;s++)e[t].apply(e,[o[s]].concat(a))}},p=function(e,t,i){var a,n=-1,o=t.length;switch(i.length){case 0:for(;o>++n;)(a=t[n]).callback.call(a.ctx);return;case 1:for(;o>++n;)(a=t[n]).callback.call(a.ctx,i[0]);return;case 2:for(;o>++n;)(a=t[n]).callback.call(a.ctx,i[0],i[1]);return;case 3:for(;o>++n;)(a=t[n]).callback.call(a.ctx,i[0],i[1],i[2]);return;default:for(;o>++n;)(a=t[n]).callback.apply(a.ctx,i)}},m=i.Events={on:function(e,t,i){if(!_(this,"on",e,[t,i])||!t)return this;this._events||(this._events={});var a=this._events[e]||(this._events[e]=[]);return a.push({callback:t,context:i,ctx:i||this}),this},once:function(e,t,i){if(!_(this,"once",e,[t,i])||!t)return this;var a=this,n=d.once(function(){a.off(e,n),t.apply(this,arguments)});return n._callback=t,this.on(e,n,i),this},off:function(e,t,i){var a,n,o,s,r,l,c,p;if(!this._events||!_(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(s=e?[e]:d.keys(this._events),r=0,l=s.length;l>r;r++)if(e=s[r],a=this._events[e]){if(o=[],t||i)for(c=0,p=a.length;p>c;c++)n=a[c],(t&&t!==(n.callback._callback||n.callback)||i&&i!==n.context)&&o.push(n);this._events[e]=o}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!_(this,"trigger",e,t))return this;var i=this._events[e],a=this._events.all;return i&&p(this,i,t),a&&p(this,a,arguments),this},listenTo:function(e,t,i){var a=this._listeners||(this._listeners={}),n=e._listenerId||(e._listenerId=d.uniqueId("l"));return a[n]=e,e.on(t,i||this,this),this},stopListening:function(e,t,i){var a=this._listeners;if(a){if(e)e.off(t,i,this),t||i||delete a[e._listenerId];else{for(var n in a)a[n].off(null,null,this);this._listeners={}}return this}}};m.bind=m.on,m.unbind=m.off,d.extend(i,m);var u=i.Model=function(e,t){var i,a=e||{};this.cid=d.uniqueId("c"),this.changed={},this.attributes={},this._changes=[],t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(a=this.parse(a)),(i=d.result(this,"defaults"))&&d.defaults(a,i),this.set(a,{silent:!0}),this._currentAttributes=d.clone(this.attributes),this._previousAttributes=d.clone(this.attributes),this.initialize.apply(this,arguments)};d.extend(u.prototype,m,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return d.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return d.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var a,n;if(null==e)return this;d.isObject(e)?(n=e,i=t):(n={})[e]=t;var o=i&&i.silent,s=i&&i.unset;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var r=this.attributes;for(a in n)t=n[a],s?delete r[a]:r[a]=t,this._changes.push(a,t);return this._hasComputed=!1,o||this.change(i),this},unset:function(e,t){return this.set(e,void 0,d.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,d.extend({},e,{unset:!0}))},fetch:function(e){e=e?d.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(a){return t.set(t.parse(a),e)?(i&&i(t,a,e),void 0):!1},this.sync("read",this,e)},save:function(e,t,i){var a,n,o;if(null==e||d.isObject(e)?(a=e,i=t):null!=e&&((a={})[e]=t),i=i?d.clone(i):{},i.wait){if(a&&!this._validate(a,i))return!1;n=d.clone(this.attributes)}var s=d.extend({},i,{silent:!0});if(a&&!this.set(a,i.wait?s:i))return!1;if(!a&&!this._validate(null,i))return!1;var r=this,l=i.success;i.success=function(e){o=!0;var t=r.parse(e);return i.wait&&(t=d.extend(a||{},t)),r.set(t,i)?(l&&l(r,e,i),void 0):!1};var c=this.isNew()?"create":i.patch?"patch":"update";"patch"==c&&(i.attrs=a);var _=this.sync(c,this,i);return!o&&i.wait&&(this.clear(s),this.set(n,s)),_},destroy:function(e){e=e?d.clone(e):{};var t=this,i=e.success,a=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&a(),i&&i(t,n,e)},this.isNew())return e.success(),!1;var n=this.sync("delete",this,e);return e.wait||a(),n},url:function(){var e=d.result(this,"urlRoot")||d.result(this.collection,"url")||q();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){var t=this._changing;this._changing=!0;var i=this._computeChanges(!0);this._pending=!!i.length;for(var a=i.length-2;a>=0;a-=2)this.trigger("change:"+i[a],this,i[a+1],e);if(t)return this;for(;this._pending;)this._pending=!1,this.trigger("change",this,e),this._previousAttributes=d.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return this._hasComputed||this._computeChanges(),null==e?!d.isEmpty(this.changed):d.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?d.clone(this.changed):!1;var t,i=!1,a=this._previousAttributes;for(var n in e)d.isEqual(a[n],t=e[n])||((i||(i={}))[n]=t);return i},_computeChanges:function(e){this.changed={};for(var t={},i=[],a=this._currentAttributes,n=this._changes,o=n.length-2;o>=0;o-=2){var s=n[o],r=n[o+1];if(!t[s]&&(t[s]=!0,a[s]!==r)){if(this.changed[s]=r,!e)continue;i.push(s,r),a[s]=r}}return e&&(this._changes=[]),this._hasComputed=!0,i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return d.clone(this._previousAttributes)},_validate:function(e,t){if(!this.validate)return!0;e=d.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error&&t.error(this,i,t),this.trigger("error",this,i,t),!1):!0}});var h=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,d.extend({silent:!0},t))};d.extend(h.prototype,m,{model:u,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return i.sync.apply(this,arguments)},add:function(e,t){var i,a,n,o,r,c=t&&t.at,_=null==(t&&t.sort)?!0:t.sort;for(e=d.isArray(e)?e.slice():[e],i=e.length-1;i>=0;i--)(n=this._prepareModel(e[i],t))?(e[i]=n,o=null!=n.id&&this._byId[n.id],o||this._byCid[n.cid]?(t&&t.merge&&o&&(o.set(n.attributes,t),r=_),e.splice(i,1)):(n.on("all",this._onModelEvent,this),this._byCid[n.cid]=n,null!=n.id&&(this._byId[n.id]=n))):(this.trigger("error",this,e[i],t),e.splice(i,1));if(e.length&&(r=_),this.length+=e.length,a=[null!=c?c:this.models.length,0],s.apply(a,e),l.apply(this.models,a),r&&this.comparator&&null==c&&this.sort({silent:!0}),t&&t.silent)return this;for(;n=e.shift();)n.trigger("add",n,this,t);return this},remove:function(e,t){var i,a,n,o;for(t||(t={}),e=d.isArray(e)?e.slice():[e],i=0,a=e.length;a>i;i++)o=this.get(e[i]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],n=this.indexOf(o),this.models.splice(n,1),this.length--,t.silent||(t.index=n,o.trigger("remove",o,this,t)),this._removeReference(o));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,d.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,d.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]||this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return d.isEmpty(e)?[]:this.filter(function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return d.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(d.bind(this.comparator,this)),e&&e.silent||this.trigger("sort",this,e),this},pluck:function(e){return d.invoke(this.models,"get",e)},update:function(e,t){var i,a,n,o,s=[],r=[],l={},c=this.model.prototype.idAttribute;if(t=d.extend({add:!0,merge:!0,remove:!0},t),t.parse&&(e=this.parse(e)),d.isArray(e)||(e=e?[e]:[]),t.add&&!t.remove)return this.add(e,t);for(a=0,n=e.length;n>a;a++)i=e[a],o=this.get(i.id||i.cid||i[c]),t.remove&&o&&(l[o.cid]=!0),(t.add&&!o||t.merge&&o)&&s.push(i);if(t.remove)for(a=0,n=this.models.length;n>a;a++)i=this.models[a],l[i.cid]||r.push(i);return r.length&&this.remove(r,t),s.length&&this.add(s,t),this},reset:function(e,t){t||(t={}),t.parse&&(e=this.parse(e));for(var i=0,a=this.models.length;a>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),e&&this.add(e,d.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?d.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(a){var n=e.update?"update":"reset";t[n](a,e),i&&i(t,a,e)},this.sync("read",this,e)},create:function(e,t){var i=this;if(t=t?d.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var a=t.success;return t.success=function(e,t,n){n.wait&&i.add(e,n),a&&a(e,t,n)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return d(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof u)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var i=new this.model(e,t);return i._validate(e,t)?i:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,a){("add"!==e&&"remove"!==e||i===this)&&("destroy"===e&&this.remove(t,a),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var f=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];d.each(f,function(e){h.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),d[e].apply(d,t)}});var g=["groupBy","countBy","sortBy"];d.each(g,function(e){h.prototype[e]=function(t,i){var a=d.isFunction(t)?t:function(e){return e.get(t)};return d[e](this.models,a,i)}});var v=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},b=/\((.*?)\)/g,w=/:\w+/g,y=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;d.extend(v.prototype,m,{initialize:function(){},route:function(e,t,a){return d.isRegExp(e)||(e=this._routeToRegExp(e)),a||(a=this[t]),i.history.route(e,d.bind(function(n){var o=this._extractParameters(e,n);a&&a.apply(this,o),this.trigger.apply(this,["route:"+t].concat(o)),i.history.trigger("route",this,t,o)},this)),this},navigate:function(e,t){return i.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes)for(var e,t=d.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(x,"\\$&").replace(b,"(?:$1)?").replace(w,"([^/]+)").replace(y,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var k=i.History=function(){this.handlers=[],d.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,z=/msie [\w.]+/,T=/\/$/;k.started=!1,d.extend(k.prototype,m,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var i=this.root.replace(T,"");e.indexOf(i)||(e=e.substr(i.length))}else e=this.getHash();return e.replace($,"")},start:function(e){if(k.started)throw Error("Backbone.history has already been started");k.started=!0,this.options=d.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),a=document.documentMode,n=z.exec(navigator.userAgent.toLowerCase())&&(!a||7>=a);this.root=("/"+this.root+"/").replace(j,"/"),n&&this._wantsHashChange&&(this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?i.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?i.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace($,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){i.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),k.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=d.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!k.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var i=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,i){if(i){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),i.history=new k;var S=i.View=function(e){this.cid=d.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];d.extend(S.prototype,m,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},make:function(e,t,a){var n=document.createElement(e);return t&&i.$(n).attr(t),null!=a&&i.$(n).html(a),n},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof i.$?e:i.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=d.result(this,"events"))){this.undelegateEvents();for(var t in e){var i=e[t];if(d.isFunction(i)||(i=this[e[t]]),!i)throw Error('Method "'+e[t]+'" does not exist');var a=t.match(E),n=a[1],o=a[2];i=d.bind(i,this),n+=".delegateEvents"+this.cid,""===o?this.$el.bind(n,i):this.$el.delegate(o,n,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=d.extend({},d.result(this,"options"),e)),d.extend(this,d.pick(e,C)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(d.result(this,"el"),!1);else{var e=d.extend({},d.result(this,"attributes"));this.id&&(e.id=d.result(this,"id")),this.className&&(e["class"]=d.result(this,"className")),this.setElement(this.make(d.result(this,"tagName"),e),!1)}}});var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.sync=function(e,t,a){var n=I[e];d.defaults(a||(a={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var o={type:n,dataType:"json"};if(a.url||(o.url=d.result(t,"url")||q()),null!=a.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(a.attrs||t.toJSON(a))),a.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),a.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){o.type="POST",a.emulateJSON&&(o.data._method=n);var s=a.beforeSend;a.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",n),s?s.apply(this,arguments):void 0}}"GET"===o.type||a.emulateJSON||(o.processData=!1);var r=a.success;a.success=function(e,i,n){r&&r(e,i,n),t.trigger("sync",t,e,a)};var l=a.error;a.error=function(e){l&&l(t,e,a),t.trigger("error",t,e,a)};var c=i.ajax(d.extend(o,a));return t.trigger("request",t,c,a),c},i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var N=function(e,t){var i,a=this;i=e&&d.has(e,"constructor")?e.constructor:function(){a.apply(this,arguments)},d.extend(i,a,t);var n=function(){this.constructor=i};return n.prototype=a.prototype,i.prototype=new n,e&&d.extend(i.prototype,e),i.__super__=a.prototype,i};u.extend=h.extend=v.extend=S.extend=k.extend=N;var q=function(){throw Error('A "url" property or function must be specified')}}.call(this),this._=i,this.jQuery=a}),define("base/zepto",[],function(){var e=window.Zepto,t=window.$;(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===e&&(Array.prototype.reduce=function(t){if(void 0===this||null===this)throw new TypeError;
var i,a=Object(this),n=a.length>>>0,o=0;if("function"!=typeof t)throw new TypeError;if(0==n&&1==arguments.length)throw new TypeError;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in a){i=a[o++];break}if(++o>=n)throw new TypeError}for(;n>o;)o in a&&(i=t.call(e,i,a[o],o,a)),o++;return i})})();var i=function(){function e(e){return null==e?e+"":J[F.call(e)]||"object"}function t(t){return"function"==e(t)}function i(e){return null!=e&&e==e.window}function a(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function n(t){return"object"==e(t)}function o(e){return n(e)&&!i(e)&&e.__proto__==Object.prototype}function s(e){return e instanceof Array}function r(e){return"number"==typeof e.length}function l(e){return C.call(e,function(e){return null!=e})}function d(e){return e.length>0?$.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function _(e){return e in q?q[e]:q[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function p(e,t){return"number"!=typeof t||P[c(e)]?t:t+"px"}function m(e){var t,i;return N[e]||(t=I.createElement(e),I.body.appendChild(t),i=O(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==i&&(i="block"),N[e]=i),N[e]}function u(e){return"children"in e?E.call(e.children):$.map(e.childNodes,function(e){return 1==e.nodeType?e:x})}function h(e,t,i){for(k in t)i&&(o(t[k])||s(t[k]))?(o(t[k])&&!o(e[k])&&(e[k]={}),s(t[k])&&!s(e[k])&&(e[k]=[]),h(e[k],t[k],i)):t[k]!==x&&(e[k]=t[k])}function f(e,t){return t===x?$(e):$(e).filter(t)}function g(e,i,a,n){return t(i)?i.call(e,a,n):i}function v(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}function b(e,t){var i=e.className,a=i&&i.baseVal!==x;return t===x?a?i.baseVal:i:(a?i.baseVal=t:e.className=t,x)}function w(e){var t;try{return e?"true"==e||("false"==e?!1:"null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?$.parseJSON(e):e:t):e}catch(i){return e}}function y(e,t){t(e);for(var i in e.childNodes)y(e.childNodes[i],t)}var x,k,$,j,z,T,S=[],E=S.slice,C=S.filter,I=window.document,N={},q={},O=I.defaultView.getComputedStyle,P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,M=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,V=/^(?:body|html)$/i,R=["val","css","html","text","data","width","height","offset"],A=["after","prepend","before","append"],Y=I.createElement("table"),X=I.createElement("tr"),U={tr:I.createElement("tbody"),tbody:Y,thead:Y,tfoot:Y,td:X,th:X,"*":I.createElement("div")},H=/complete|loaded|interactive/,W=/^\.([\w-]+)$/,L=/^#([\w-]*)$/,Z=/^[\w-]+$/,J={},F=J.toString,B={},G=I.createElement("div");return B.matches=function(e,t){if(!e||1!==e.nodeType)return!1;var i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(i)return i.call(e,t);var a,n=e.parentNode,o=!n;return o&&(n=G).appendChild(e),a=~B.qsa(n,t).indexOf(e),o&&G.removeChild(e),a},z=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(e){return C.call(e,function(t,i){return e.indexOf(t)==i})},B.fragment=function(e,t,i){e.replace&&(e=e.replace(M,"<$1></$2>")),t===x&&(t=D.test(e)&&RegExp.$1),t in U||(t="*");var a,n,s=U[t];return s.innerHTML=""+e,n=$.each(E.call(s.childNodes),function(){s.removeChild(this)}),o(i)&&(a=$(n),$.each(i,function(e,t){R.indexOf(e)>-1?a[e](t):a.attr(e,t)})),n},B.Z=function(e,t){return e=e||[],e.__proto__=$.fn,e.selector=t||"",e},B.isZ=function(e){return e instanceof B.Z},B.init=function(e,i){if(e){if(t(e))return $(I).ready(e);if(B.isZ(e))return e;var a;if(s(e))a=l(e);else if(n(e))a=[o(e)?$.extend({},e):e],e=null;else if(D.test(e))a=B.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==x)return $(i).find(e);a=B.qsa(I,e)}return B.Z(a,e)}return B.Z()},$=function(e,t){return B.init(e,t)},$.extend=function(e){var t,i=E.call(arguments,1);return"boolean"==typeof e&&(t=e,e=i.shift()),i.forEach(function(i){h(e,i,t)}),e},B.qsa=function(e,t){var i;return a(e)&&L.test(t)?(i=e.getElementById(RegExp.$1))?[i]:[]:1!==e.nodeType&&9!==e.nodeType?[]:E.call(W.test(t)?e.getElementsByClassName(RegExp.$1):Z.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))},$.contains=function(e,t){return e!==t&&e.contains(t)},$.type=e,$.isFunction=t,$.isWindow=i,$.isArray=s,$.isPlainObject=o,$.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},$.inArray=function(e,t,i){return S.indexOf.call(t,e,i)},$.camelCase=z,$.trim=function(e){return e.trim()},$.uuid=0,$.support={},$.expr={},$.map=function(e,t){var i,a,n,o=[];if(r(e))for(a=0;e.length>a;a++)i=t(e[a],a),null!=i&&o.push(i);else for(n in e)i=t(e[n],n),null!=i&&o.push(i);return d(o)},$.each=function(e,t){var i,a;if(r(e)){for(i=0;e.length>i;i++)if(t.call(e[i],i,e[i])===!1)return e}else for(a in e)if(t.call(e[a],a,e[a])===!1)return e;return e},$.grep=function(e,t){return C.call(e,t)},window.JSON&&($.parseJSON=JSON.parse),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),$.fn={forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,indexOf:S.indexOf,concat:S.concat,map:function(e){return $($.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return $(E.apply(this,arguments))},ready:function(e){return H.test(I.readyState)?e($):I.addEventListener("DOMContentLoaded",function(){e($)},!1),this},get:function(e){return e===x?E.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return S.every.call(this,function(t,i){return e.call(t,i,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):$(C.call(this,function(t){return B.matches(t,e)}))},add:function(e,t){return $(T(this.concat($(e,t))))},is:function(e){return this.length>0&&B.matches(this[0],e)},not:function(e){var i=[];if(t(e)&&e.call!==x)this.each(function(t){e.call(this,t)||i.push(this)});else{var a="string"==typeof e?this.filter(e):r(e)&&t(e.item)?E.call(e):$(e);this.forEach(function(e){0>a.indexOf(e)&&i.push(e)})}return $(i)},has:function(e){return this.filter(function(){return n(e)?$.contains(this,e):$(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!n(e)?e:$(e)},last:function(){var e=this[this.length-1];return e&&!n(e)?e:$(e)},find:function(e){var t,i=this;return t="object"==typeof e?$(e).filter(function(){var e=this;return S.some.call(i,function(t){return $.contains(t,e)})}):1==this.length?$(B.qsa(this[0],e)):this.map(function(){return B.qsa(this,e)})},closest:function(e,t){var i=this[0],n=!1;for("object"==typeof e&&(n=$(e));i&&!(n?n.indexOf(i)>=0:B.matches(i,e));)i=i!==t&&!a(i)&&i.parentNode;return $(i)},parents:function(e){for(var t=[],i=this;i.length>0;)i=$.map(i,function(e){return(e=e.parentNode)&&!a(e)&&0>t.indexOf(e)?(t.push(e),e):x});return f(t,e)},parent:function(e){return f(T(this.pluck("parentNode")),e)},children:function(e){return f(this.map(function(){return u(this)}),e)},contents:function(){return this.map(function(){return E.call(this.childNodes)})},siblings:function(e){return f(this.map(function(e,t){return C.call(u(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return $.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==O(this,"").getPropertyValue("display")&&(this.style.display=m(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var i=t(e);if(this[0]&&!i)var a=$(e).get(0),n=a.parentNode||this.length>1;return this.each(function(t){$(this).wrapAll(i?e.call(this,t):n?a.cloneNode(!0):a)})},wrapAll:function(e){if(this[0]){$(this[0]).before(e=$(e));for(var t;(t=e.children()).length;)e=t.first();$(e).append(this)}return this},wrapInner:function(e){var i=t(e);return this.each(function(t){var a=$(this),n=a.contents(),o=i?e.call(this,t):e;n.length?n.wrapAll(o):a.append(o)})},unwrap:function(){return this.parent().each(function(){$(this).replaceWith($(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=$(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return $(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return $(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return e===x?this.length>0?this[0].innerHTML:null:this.each(function(t){var i=this.innerHTML;$(this).empty().append(g(this,e,t,i))})},text:function(e){return e===x?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e})},attr:function(e,t){var i;return"string"==typeof e&&t===x?0==this.length||1!==this[0].nodeType?x:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(i=this[0].getAttribute(e))&&e in this[0]?this[0][e]:i:this.each(function(i){if(1===this.nodeType)if(n(e))for(k in e)v(this,k,e[k]);else v(this,e,g(this,t,i,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&v(this,e)})},prop:function(e,t){return t===x?this[0]&&this[0][e]:this.each(function(i){this[e]=g(this,t,i,this[e])})},data:function(e,t){var i=this.attr("data-"+c(e),t);return null!==i?w(i):x},val:function(e){return e===x?this[0]&&(this[0].multiple?$(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(t){this.value=g(this,e,t,this.value)})},offset:function(e){if(e)return this.each(function(t){var i=$(this),a=g(this,e,t,i.offset()),n=i.offsetParent().offset(),o={top:a.top-n.top,left:a.left-n.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,i){if(2>arguments.length&&"string"==typeof t)return this[0]&&(this[0].style[z(t)]||O(this[0],"").getPropertyValue(t));var a="";if("string"==e(t))i||0===i?a=c(t)+":"+p(t,i):this.each(function(){this.style.removeProperty(c(t))});else for(k in t)t[k]||0===t[k]?a+=c(k)+":"+p(k,t[k])+";":this.each(function(){this.style.removeProperty(c(k))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf($(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return S.some.call(this,function(e){return this.test(b(e))},_(e))},addClass:function(e){return this.each(function(t){j=[];var i=b(this),a=g(this,e,t,i);a.split(/\s+/g).forEach(function(e){$(this).hasClass(e)||j.push(e)},this),j.length&&b(this,i+(i?" ":"")+j.join(" "))})},removeClass:function(e){return this.each(function(t){return e===x?b(this,""):(j=b(this),g(this,e,t,j).split(/\s+/g).forEach(function(e){j=j.replace(_(e)," ")}),b(this,j.trim()),x)})},toggleClass:function(e,t){return this.each(function(i){var a=$(this),n=g(this,e,i,b(this));n.split(/\s+/g).forEach(function(e){(t===x?!a.hasClass(e):t)?a.addClass(e):a.removeClass(e)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:x},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),i=this.offset(),a=V.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat($(e).css("margin-top"))||0,i.left-=parseFloat($(e).css("margin-left"))||0,a.top+=parseFloat($(t[0]).css("border-top-width"))||0,a.left+=parseFloat($(t[0]).css("border-left-width"))||0,{top:i.top-a.top,left:i.left-a.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!V.test(e.nodeName)&&"static"==$(e).css("position");)e=e.offsetParent;return e})}},$.fn.detach=$.fn.remove,["width","height"].forEach(function(e){$.fn[e]=function(t){var n,o=this[0],s=e.replace(/./,function(e){return e[0].toUpperCase()});return t===x?i(o)?o["inner"+s]:a(o)?o.documentElement["offset"+s]:(n=this.offset())&&n[e]:this.each(function(i){o=$(this),o.css(e,g(this,t,i,o[e]()))})}}),A.forEach(function(t,i){var a=i%2;$.fn[t]=function(){var t,n,o=$.map(arguments,function(i){return t=e(i),"object"==t||"array"==t||null==i?i:B.fragment(i)}),s=this.length>1;return 1>o.length?this:this.each(function(e,t){n=a?t:t.parentNode,t=0==i?t.nextSibling:1==i?t.firstChild:2==i?t:null,o.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!n)return $(e).remove();y(n.insertBefore(e,t),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},$.fn[a?t+"To":"insert"+(i?"Before":"After")]=function(e){return $(e)[t](this),this}}),B.Z.prototype=$.fn,B.uniq=T,B.deserializeValue=w,$.zepto=B,$}();return window.Zepto=i,"$"in window||(window.$=i),function(e){function t(e){var t=this.os={},i=this.browser={},a=e.match(/WebKit\/([\d.]+)/),n=e.match(/(Android)\s+([\d.]+)/),o=e.match(/(iPad).*OS\s([\d_]+)/),s=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),r=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=r&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),c=e.match(/Silk\/([\d._]+)/),_=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),m=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),u=e.match(/PlayBook/),h=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),f=e.match(/Firefox\/([\d.]+)/);(i.webkit=!!a)&&(i.version=a[1]),n&&(t.android=!0,t.version=n[2]),s&&(t.ios=t.iphone=!0,t.version=s[2].replace(/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2].replace(/_/g,".")),r&&(t.webos=!0,t.version=r[2]),l&&(t.touchpad=!0),_&&(t.blackberry=!0,t.version=_[2]),p&&(t.bb10=!0,t.version=p[2]),m&&(t.rimtabletos=!0,t.version=m[2]),u&&(i.playbook=!0),d&&(t.kindle=!0,t.version=d[1]),c&&(i.silk=!0,i.version=c[1]),!c&&t.android&&e.match(/Kindle Fire/)&&(i.silk=!0),h&&(i.chrome=!0,i.version=h[1]),f&&(i.firefox=!0,i.version=f[1]),t.tablet=!!(o||u||n&&!e.match(/Mobile/)||f&&e.match(/Tablet/)),t.phone=!(t.tablet||!(n||s||r||_||p||h&&e.match(/Android/)||h&&e.match(/CriOS\/([\d.]+)/)||f&&e.match(/Mobile/)))}t.call(e,navigator.userAgent),e.__detect=t}(i),function(e){function t(e){return e._zid||(e._zid=m++)}function i(e,i,o,s){if(i=a(i),i.ns)var r=n(i.ns);return(p[t(e)]||[]).filter(function(e){return!(!e||i.e&&e.e!=i.e||i.ns&&!r.test(e.ns)||o&&t(e.fn)!==t(o)||s&&e.sel!=s)})}function a(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function o(t,i,a){"string"!=e.type(t)?e.each(t,a):t.split(/\s/).forEach(function(e){a(e,i)})}function s(e,t){return e.del&&("focus"==e.e||"blur"==e.e)||!!t}function r(e){return h[e]||e}function l(i,n,l,d,c,_){var m=t(i),u=p[m]||(p[m]=[]);o(n,l,function(t,n){var o=a(t);o.fn=n,o.sel=d,o.e in h&&(n=function(t){var i=t.relatedTarget;return!i||i!==this&&!e.contains(this,i)?o.fn.apply(this,arguments):void 0}),o.del=c&&c(n,t);var l=o.del||n;o.proxy=function(e){var t=l.apply(i,[e].concat(e.data));return t===!1&&(e.preventDefault(),e.stopPropagation()),t},o.i=u.length,u.push(o),i.addEventListener(r(o.e),o.proxy,s(o,_))})}function d(e,a,n,l,d){var c=t(e);o(a||"",n,function(t,a){i(e,t,a,l).forEach(function(t){delete p[c][t.i],e.removeEventListener(r(t.e),t.proxy,s(t,d))})})}function c(t){var i,a={originalEvent:t};for(i in t)v.test(i)||void 0===t[i]||(a[i]=t[i]);return e.each(b,function(e,i){a[e]=function(){return this[i]=f,t[e].apply(t,arguments)},a[i]=g}),a}function _(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0,t.call(this)}}}var p=(e.zepto.qsa,{}),m=1,u={},h={mouseenter:"mouseover",mouseleave:"mouseout"};u.click=u.mousedown=u.mouseup=u.mousemove="MouseEvents",e.event={add:l,remove:d},e.proxy=function(i,a){if(e.isFunction(i)){var n=function(){return i.apply(a,arguments)};return n._zid=t(i),n}if("string"==typeof a)return e.proxy(i[a],i);throw new TypeError("expected function")},e.fn.bind=function(e,t){return this.each(function(){l(this,e,t)})},e.fn.unbind=function(e,t){return this.each(function(){d(this,e,t)})},e.fn.one=function(e,t){return this.each(function(i,a){l(this,e,t,null,function(e,t){return function(){var i=e.apply(a,arguments);return d(a,t,e),i}})})};var f=function(){return!0},g=function(){return!1},v=/^([A-Z]|layer[XY]$)/,b={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,i,a){return this.each(function(n,o){l(o,i,a,t,function(i){return function(a){var n,s=e(a.target).closest(t,o).get(0);return s?(n=e.extend(c(a),{currentTarget:s,liveFired:o}),i.apply(s,[n].concat([].slice.call(arguments,1)))):void 0}})})},e.fn.undelegate=function(e,t,i){return this.each(function(){d(this,t,i,e)})},e.fn.live=function(t,i){return e(document.body).delegate(this.selector,t,i),this},e.fn.die=function(t,i){return e(document.body).undelegate(this.selector,t,i),this},e.fn.on=function(t,i,a){return!i||e.isFunction(i)?this.bind(t,i||a):this.delegate(i,t,a)},e.fn.off=function(t,i,a){return!i||e.isFunction(i)?this.unbind(t,i||a):this.undelegate(i,t,a)},e.fn.trigger=function(t,i){return("string"==typeof t||e.isPlainObject(t))&&(t=e.Event(t)),_(t),t.data=i,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(t)})},e.fn.triggerHandler=function(t,a){var n,o;return this.each(function(s,r){n=c("string"==typeof t?e.Event(t):t),n.data=a,n.target=r,e.each(i(r,t.type||t),function(e,t){return o=t.proxy(n),n.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){"string"!=typeof e&&(t=e,e=t.type);var i=document.createEvent(u[e]||"Events"),a=!0;if(t)for(var n in t)"bubbles"==n?a=!!t[n]:i[n]=t[n];return i.initEvent(e,a,!0,null,null,null,null,null,null,null,null,null,null,null,null),i.isDefaultPrevented=function(){return this.defaultPrevented},i}}(i),function(e){function t(t,i,a){var n=e.Event(i);return e(t).trigger(n,a),!n.defaultPrevented}function i(e,i,a,n){return e.global?t(i||v,a,n):void 0}function a(t){t.global&&0===e.active++&&i(t,null,"ajaxStart")}function n(t){t.global&&!--e.active&&i(t,null,"ajaxStop")}function o(e,t){var a=t.context;return t.beforeSend.call(a,e,t)===!1||i(t,a,"ajaxBeforeSend",[e,t])===!1?!1:(i(t,a,"ajaxSend",[e,t]),void 0)}function s(e,t,a){var n=a.context,o="success";a.success.call(n,e,o,t),i(a,n,"ajaxSuccess",[t,a,e]),l(o,t,a)}function r(e,t,a,n){var o=n.context;n.error.call(o,a,t,e),i(n,o,"ajaxError",[a,n,e]),l(t,a,n)}function l(e,t,a){var o=a.context;a.complete.call(o,t,e),i(a,o,"ajaxComplete",[t,a]),n(a)}function d(){}function c(e){return e&&(e=e.split(";",2)[0]),e&&(e==k?"html":e==x?"json":w.test(e)?"script":y.test(e)&&"xml")||"text"}function _(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=_(t.url,t.data))}function m(t,i,a,n){var o=!e.isFunction(i);return{url:t,data:o?i:void 0,success:o?e.isFunction(a)?a:void 0:i,dataType:o?n||a:a}}function u(t,i,a,n){var o,s=e.isArray(i);e.each(i,function(i,r){o=e.type(r),n&&(i=a?n:n+"["+(s?"":i)+"]"),!n&&s?t.add(r.name,r.value):"array"==o||!a&&"object"==o?u(t,r,a,i):t.add(i,r)})}var h,f,g=0,v=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,y=/^(?:text|application)\/xml/i,x="application/json",k="text/html",$=/^\s*$/;e.active=0,e.ajaxJSONP=function(t){if(!("type"in t))return e.ajax(t);var i,a="jsonp"+ ++g,n=v.createElement("script"),l=function(){clearTimeout(i),e(n).remove(),delete window[a]},c=function(e){l(),e&&"timeout"!=e||(window[a]=d),r(null,e||"abort",_,t)},_={abort:c};return o(_,t)===!1?(c("abort"),!1):(window[a]=function(e){l(),s(e,_,t)},n.onerror=function(){c("error")},n.src=t.url.replace(/=\?/,"="+a),e("head").append(n),t.timeout>0&&(i=setTimeout(function(){c("timeout")},t.timeout)),_)},e.ajaxSettings={type:"GET",beforeSend:d,success:d,error:d,complete:d,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:x,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var i=e.extend({},t||{});for(h in e.ajaxSettings)void 0===i[h]&&(i[h]=e.ajaxSettings[h]);a(i),i.crossDomain||(i.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(i.url)&&RegExp.$2!=window.location.host),i.url||(i.url=""+window.location),p(i),i.cache===!1&&(i.url=_(i.url,"_="+Date.now()));var n=i.dataType,l=/=\?/.test(i.url);if("jsonp"==n||l)return l||(i.url=_(i.url,"callback=?")),e.ajaxJSONP(i);var m,u=i.accepts[n],g={},v=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,b=i.xhr();i.crossDomain||(g["X-Requested-With"]="XMLHttpRequest"),u&&(g.Accept=u,u.indexOf(",")>-1&&(u=u.split(",",2)[0]),b.overrideMimeType&&b.overrideMimeType(u)),(i.contentType||i.contentType!==!1&&i.data&&"GET"!=i.type.toUpperCase())&&(g["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),i.headers=e.extend(g,i.headers||{}),b.onreadystatechange=function(){if(4==b.readyState){b.onreadystatechange=d,clearTimeout(m);var t,a=!1;if(b.status>=200&&300>b.status||304==b.status||0==b.status&&"file:"==v){n=n||c(b.getResponseHeader("content-type")),t=b.responseText;try{"script"==n?(1,eval)(t):"xml"==n?t=b.responseXML:"json"==n&&(t=$.test(t)?null:e.parseJSON(t))}catch(o){a=o}a?r(a,"parsererror",b,i):s(t,b,i)}else r(null,b.status?"error":"abort",b,i)}};var w="async"in i?i.async:!0;b.open(i.type,i.url,w);for(f in i.headers)b.setRequestHeader(f,i.headers[f]);return o(b,i)===!1?(b.abort(),!1):(i.timeout>0&&(m=setTimeout(function(){b.onreadystatechange=d,b.abort(),r(null,"timeout",b,i)},i.timeout)),b.send(i.data?i.data:null),b)},e.get=function(){return e.ajax(m.apply(null,arguments))},e.post=function(){var t=m.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,i,a){if(!this.length)return this;var n,o=this,s=t.split(/\s/),r=m(t,i,a),l=r.success;return s.length>1&&(r.url=s[0],n=s[1]),r.success=function(t){o.html(n?e("<div>").html(t.replace(b,"")).find(n):t),l&&l.apply(o,arguments)},e.ajax(r),this};var j=encodeURIComponent;e.param=function(e,t){var i=[];return i.add=function(e,t){this.push(j(e)+"="+j(t))},u(i,e,t),i.join("&").replace(/%20/g,"+")}}(i),function(e){e.fn.serializeArray=function(){var t,i=[];return e(Array.prototype.slice.call(this.get(0).elements)).each(function(){t=e(this);var a=t.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=a&&"reset"!=a&&"button"!=a&&("radio"!=a&&"checkbox"!=a||this.checked)&&i.push({name:t.attr("name"),value:t.val()})}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var i=e.Event("submit");this.eq(0).trigger(i),i.defaultPrevented||this.get(0).submit()}return this}}(i),function(e,t){function i(e){return a(e.replace(/([a-z])([A-Z])/,"$1-$2"))}function a(e){return e.toLowerCase()}function n(e){return o?o+e:a(e)}var o,s,r,l,d,c,_,p,m="",u={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},h=window.document,f=h.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,v={};e.each(u,function(e,i){return f.style[e+"TransitionProperty"]!==t?(m="-"+a(e)+"-",o=i,!1):t}),s=m+"transform",v[r=m+"transition-property"]=v[l=m+"transition-duration"]=v[d=m+"transition-timing-function"]=v[c=m+"animation-name"]=v[_=m+"animation-duration"]=v[p=m+"animation-timing-function"]="",e.fx={off:o===t&&f.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:n("TransitionEnd"),animationEnd:n("AnimationEnd")},e.fn.animate=function(t,i,a,n){return e.isPlainObject(i)&&(a=i.easing,n=i.complete,i=i.duration),i&&(i=("number"==typeof i?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3),this.anim(t,i,a,n)},e.fn.anim=function(a,n,o,m){var u,h,f,b={},w="",y=this,x=e.fx.transitionEnd;if(n===t&&(n=.4),e.fx.off&&(n=0),"string"==typeof a)b[c]=a,b[_]=n+"s",b[p]=o||"linear",x=e.fx.animationEnd;else{h=[];for(u in a)g.test(u)?w+=u+"("+a[u]+") ":(b[u]=a[u],h.push(i(u)));w&&(b[s]=w,h.push(s)),n>0&&"object"==typeof a&&(b[r]=h.join(", "),b[l]=n+"s",b[d]=o||"linear")}return f=function(i){if(i!==t){if(i.target!==i.currentTarget)return;e(i.target).unbind(x,f)}e(this).css(v),m&&m.call(this)},n>0&&this.bind(x,f),this.size()&&this.get(0).clientLeft,this.css(b),0>=n&&setTimeout(function(){y.each(function(){f.call(this)})},0),this},f=null}(i),window.Zepto=e,window.$=t,i}),define("base/hammer.jq",[],function(){function e(e){(function(e,t){"use strict";function i(){if(!a.READY){a.event.determineEventTypes();for(var e in a.gestures)a.gestures.hasOwnProperty(e)&&a.detection.register(a.gestures[e]);a.event.onTouch(a.DOCUMENT,a.EVENT_MOVE,a.detection.detect),a.event.onTouch(a.DOCUMENT,a.EVENT_END,a.detection.detect),a.READY=!0}}var a=function(e,t){return new a.Instance(e,t||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},a.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,a.HAS_TOUCHEVENTS="ontouchstart"in e,a.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,a.NO_MOUSEEVENTS=a.HAS_TOUCHEVENTS&&navigator.userAgent.match(a.MOBILE_REGEX),a.EVENT_TYPES={},a.DIRECTION_DOWN="down",a.DIRECTION_LEFT="left",a.DIRECTION_UP="up",a.DIRECTION_RIGHT="right",a.POINTER_MOUSE="mouse",a.POINTER_TOUCH="touch",a.POINTER_PEN="pen",a.EVENT_START="start",a.EVENT_MOVE="move",a.EVENT_END="end",a.DOCUMENT=document,a.plugins={},a.READY=!1,a.Instance=function(e,t){var n=this;return i(),this.element=e,this.enabled=!0,this.options=a.utils.extend(a.utils.extend({},a.defaults),t||{}),this.options.stop_browser_behavior&&a.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),a.event.onTouch(e,a.EVENT_START,function(e){n.enabled&&a.detection.startDetect(n,e)}),this},a.Instance.prototype={on:function(e,t){for(var i=e.split(" "),a=0;i.length>a;a++)this.element.addEventListener(i[a],t,!1);return this},off:function(e,t){for(var i=e.split(" "),a=0;i.length>a;a++)this.element.removeEventListener(i[a],t,!1);return this},trigger:function(e,t){var i=a.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;var n=this.element;return a.utils.hasParent(t.target,n)&&(n=t.target),n.dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var n=null,o=!1,s=!1;a.event={bindDom:function(e,t,i){for(var a=t.split(" "),n=0;a.length>n;n++)e.addEventListener(a[n],i,!1)},onTouch:function(e,t,i){var r=this;this.bindDom(e,a.EVENT_TYPES[t],function(l){var d=l.type.toLowerCase();if(!d.match(/mouse/)||!s){(d.match(/touch/)||d.match(/pointerdown/)||d.match(/mouse/)&&1===l.which)&&(o=!0),d.match(/touch|pointer/)&&(s=!0);var c=0;o&&(a.HAS_POINTEREVENTS&&t!=a.EVENT_END?c=a.PointerEvent.updatePointer(t,l):d.match(/touch/)?c=l.touches.length:s||(c=d.match(/up/)?0:1),c>0&&t==a.EVENT_END?t=a.EVENT_MOVE:c||(t=a.EVENT_END),c||null===n?n=l:l=n,i.call(a.detection,r.collectEventData(e,t,l)),a.HAS_POINTEREVENTS&&t==a.EVENT_END&&(c=a.PointerEvent.updatePointer(t,l))),c||(n=null,o=!1,s=!1,a.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=a.HAS_POINTEREVENTS?a.PointerEvent.getEvents():a.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],a.EVENT_TYPES[a.EVENT_START]=e[0],a.EVENT_TYPES[a.EVENT_MOVE]=e[1],a.EVENT_TYPES[a.EVENT_END]=e[2]},getTouchList:function(e){return a.HAS_POINTEREVENTS?a.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,i){var n=this.getTouchList(i,t),o=a.POINTER_TOUCH;return(i.type.match(/mouse/)||a.PointerEvent.matchType(a.POINTER_MOUSE,i))&&(o=a.POINTER_MOUSE),{center:a.utils.getCenter(n),timeStamp:(new Date).getTime(),target:i.target,touches:n,eventType:t,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return a.detection.stopDetect()}}}},a.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(i){t.push(e.pointers[i])}),t},updatePointer:function(e,t){return e==a.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var i={};return i[a.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==a.POINTER_MOUSE,i[a.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==a.POINTER_TOUCH,i[a.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==a.POINTER_PEN,i[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},a.utils={extend:function(e,i,a){for(var n in i)e[n]!==t&&a||(e[n]=i[n]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],i=[],a=0,n=e.length;n>a;a++)t.push(e[a].pageX),i.push(e[a].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.pageY-e.pageY,a=t.pageX-e.pageX;return 180*Math.atan2(i,a)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX),n=Math.abs(e.pageY-t.pageY);return i>=n?e.pageX-t.pageX>0?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:e.pageY-t.pageY>0?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(e,t){var i=t.pageX-e.pageX,a=t.pageY-e.pageY;return Math.sqrt(i*i+a*a)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==a.DIRECTION_UP||e==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var i,a=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var n=0;a.length>n;n++)for(var o in t)t.hasOwnProperty(o)&&(i=o,a[n]&&(i=a[n]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:a.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,i=0,n=this.gestures.length;n>i;i++){var o=this.gestures[i];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();
break}}return this.current&&(this.current.lastEvent=e),e.eventType==a.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=a.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var i=0,n=e.touches.length;n>i;i++)t.touches.push(a.utils.extend({},e.touches[i]))}var o=e.timeStamp-t.timeStamp,s=e.center.pageX-t.center.pageX,r=e.center.pageY-t.center.pageY,l=a.utils.getVelocity(o,s,r);return a.utils.extend(e,{deltaTime:o,deltaX:s,deltaY:r,velocityX:l.x,velocityY:l.y,distance:a.utils.getDistance(t.center,e.center),angle:a.utils.getAngle(t.center,e.center),direction:a.utils.getDirection(t.center,e.center),scale:a.utils.getScale(t.touches,e.touches),rotation:a.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var i=e.defaults||{};return i[e.name]===t&&(i[e.name]=!0),a.utils.extend(a.defaults,i,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},a.gestures=a.gestures||{},a.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case a.EVENT_START:clearTimeout(this.timer),a.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==a.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case a.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case a.EVENT_END:clearTimeout(this.timer)}}},a.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==a.EVENT_END){var i=a.detection.previous,n=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;i&&"tap"==i.name&&e.timeStamp-i.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),n=!0),(!n||t.options.tap_always)&&(a.detection.current.name="tap",t.trigger(a.detection.current.name,e))}}},a.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==a.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,i){if(a.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(i.options.drag_max_touches>0&&e.touches.length>i.options.drag_max_touches))switch(e.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:if(e.distance<i.options.drag_min_distance&&a.detection.current.name!=this.name)return;a.detection.current.name=this.name,(a.detection.current.lastEvent.drag_locked_to_axis||i.options.drag_lock_to_axis&&i.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var n=a.detection.current.lastEvent.direction;e.drag_locked_to_axis&&n!==e.direction&&(e.direction=a.utils.isVertical(n)?0>e.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:0>e.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT),this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),i.trigger(this.name+e.direction,e),(i.options.drag_block_vertical&&a.utils.isVertical(e.direction)||i.options.drag_block_horizontal&&!a.utils.isVertical(e.direction))&&e.preventDefault();break;case a.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},a.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,i){if(a.detection.current.name!=this.name&&this.triggered)return i.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(i.options.transform_always_block&&e.preventDefault(),e.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:var n=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(i.options.transform_min_scale>n&&i.options.transform_min_rotation>o)return;a.detection.current.name=this.name,this.triggered||(i.trigger(this.name+"start",e),this.triggered=!0),i.trigger(this.name,e),o>i.options.transform_min_rotation&&i.trigger("rotate",e),n>i.options.transform_min_scale&&(i.trigger("pinch",e),i.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case a.EVENT_END:this.triggered&&i.trigger(this.name+"end",e),this.triggered=!1}}},a.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,i){return i.options.prevent_mouseevents&&e.pointerType==a.POINTER_MOUSE?(e.stopDetect(),t):(i.options.prevent_default&&e.preventDefault(),e.eventType==a.EVENT_START&&i.trigger(this.name,e),t)}},a.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==a.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=a:(e.Hammer=a,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return a}))})(this),function(e,t){"use strict";e!==t&&(Hammer.event.bindDom=function(i,a,n){e(i).on(a,function(e){var i=e.originalEvent||e;i.pageX===t&&(i.pageX=e.pageX,i.pageY=e.pageY),i.target||(i.target=e.target),i.which===t&&(i.which=i.button),i.preventDefault||(i.preventDefault=e.preventDefault),i.stopPropagation||(i.stopPropagation=e.stopPropagation),n.call(this,i)})},Hammer.Instance.prototype.on=function(t,i){return e(this.element).on(t,i)},Hammer.Instance.prototype.off=function(t,i){return e(this.element).off(t,i)},Hammer.Instance.prototype.trigger=function(t,i){var a=e(this.element);return a.has(i.target).length&&(a=e(i.target)),a.trigger({type:t,gesture:i})},e.fn.hammer=function(t){return this.each(function(){var i=e(this),a=i.data("hammer");a?a&&t&&Hammer.utils.extend(a.options,t):i.data("hammer",new Hammer(this,t||{}))})})}(e)}return e}),define("base/iscroll",[],function(e,t,i){(function(e,i){function a(e){return""===s?e:(e=e.charAt(0).toUpperCase()+e.substr(1),s+e)}var n=Math,o=i.createElement("div").style,s=function(){for(var e,t="t,webkitT,MozT,msT,OT".split(","),i=0,a=t.length;a>i;i++)if(e=t[i]+"ransform",e in o)return t[i].substr(0,t[i].length-1);return!1}(),r=s?"-"+s.toLowerCase()+"-":"",l=a("transform"),d=a("transitionProperty"),c=a("transitionDuration"),_=a("transformOrigin"),p=a("transitionTimingFunction"),m=a("transitionDelay"),u=/android/gi.test(navigator.appVersion),h=/iphone|ipad/gi.test(navigator.appVersion),f=/hp-tablet/gi.test(navigator.appVersion),g=a("perspective")in o,v="ontouchstart"in e&&!f,b=s!==!1,w=a("transition")in o,y="onorientationchange"in e?"orientationchange":"resize",x=v?"touchstart":"mousedown",k=v?"touchmove":"mousemove",$=v?"touchend":"mouseup",j=v?"touchcancel":"mouseup",z=function(){if(s===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[s]}(),T=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),S=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),E=g?" translateZ(0)":"",C=function(t,a){var n,o=this;o.wrapper="object"==typeof t?t:i.getElementById(t),o.wrapper.style.overflow="hidden",o.scroller=o.wrapper.children[0],o.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:u,hideScrollbar:h,fadeScrollbar:h&&g,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(n in a)o.options[n]=a[n];o.x=o.options.x,o.y=o.options.y,o.options.useTransform=b&&o.options.useTransform,o.options.hScrollbar=o.options.hScroll&&o.options.hScrollbar,o.options.vScrollbar=o.options.vScroll&&o.options.vScrollbar,o.options.zoom=o.options.useTransform&&o.options.zoom,o.options.useTransition=w&&o.options.useTransition,o.options.zoom&&u&&(E=""),o.scroller.style[d]=o.options.useTransform?r+"transform":"top left",o.scroller.style[c]="0",o.scroller.style[_]="0 0",o.options.useTransition&&(o.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),o.options.useTransform?o.scroller.style[l]="translate("+o.x+"px,"+o.y+"px)"+E:o.scroller.style.cssText+=";position:absolute;top:"+o.y+"px;left:"+o.x+"px",o.options.useTransition&&(o.options.fixedScrollbar=!0),o.refresh(),o._bind(y,e),o._bind(x),v||"none"!=o.options.wheelAction&&(o._bind("DOMMouseScroll"),o._bind("mousewheel")),o.options.checkDOMChanges&&(o.checkDOMTime=setInterval(function(){o._checkDOMChanges()},800))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case x:if(!v&&0!==e.button)return;t._start(e);break;case k:t._move(e);break;case $:case j:t._end(e);break;case y:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case z:t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(e){var t,a=this;return a[e+"Scrollbar"]?(a[e+"ScrollbarWrapper"]||(t=i.createElement("div"),a.options.scrollbarClass?t.className=a.options.scrollbarClass+e.toUpperCase():t.style.cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(a.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(a.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t.style.cssText+=";pointer-events:none;"+r+"transition-property:opacity;"+r+"transition-duration:"+(a.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(a.options.hideScrollbar?"0":"1"),a.wrapper.appendChild(t),a[e+"ScrollbarWrapper"]=t,t=i.createElement("div"),a.options.scrollbarClass||(t.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+r+"background-clip:padding-box;"+r+"box-sizing:border-box;"+("h"==e?"height:100%":"width:100%")+";"+r+"border-radius:3px;border-radius:3px"),t.style.cssText+=";pointer-events:none;"+r+"transition-property:"+r+"transform;"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+r+"transition-duration:0;"+r+"transform: translate(0,0)"+E,a.options.useTransition&&(t.style.cssText+=";"+r+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),a[e+"ScrollbarWrapper"].appendChild(t),a[e+"ScrollbarIndicator"]=t),"h"==e?(a.hScrollbarSize=a.hScrollbarWrapper.clientWidth,a.hScrollbarIndicatorSize=n.max(n.round(a.hScrollbarSize*a.hScrollbarSize/a.scrollerW),30),a.hScrollbarIndicator.style.width=a.hScrollbarIndicatorSize+"px",a.hScrollbarMaxScroll=a.hScrollbarSize-a.hScrollbarIndicatorSize,a.hScrollbarProp=a.hScrollbarMaxScroll/a.maxScrollX):(a.vScrollbarSize=a.vScrollbarWrapper.clientHeight,a.vScrollbarIndicatorSize=n.max(n.round(a.vScrollbarSize*a.vScrollbarSize/a.scrollerH),30),a.vScrollbarIndicator.style.height=a.vScrollbarIndicatorSize+"px",a.vScrollbarMaxScroll=a.vScrollbarSize-a.vScrollbarIndicatorSize,a.vScrollbarProp=a.vScrollbarMaxScroll/a.maxScrollY),a._scrollbarPos(e,!0),void 0):(a[e+"ScrollbarWrapper"]&&(b&&(a[e+"ScrollbarIndicator"].style[l]=""),a[e+"ScrollbarWrapper"].parentNode.removeChild(a[e+"ScrollbarWrapper"]),a[e+"ScrollbarWrapper"]=null,a[e+"ScrollbarIndicator"]=null),void 0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},u?200:0)},_pos:function(e,t){this.zoomed||(e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[l]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+E:(e=n.round(e),t=n.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(e,t){var i,a=this,o="h"==e?a.x:a.y;a[e+"Scrollbar"]&&(o=a[e+"ScrollbarProp"]*o,0>o?(a.options.fixedScrollbar||(i=a[e+"ScrollbarIndicatorSize"]+n.round(3*o),30>i&&(i=30),a[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px"),o=0):o>a[e+"ScrollbarMaxScroll"]&&(a.options.fixedScrollbar?o=a[e+"ScrollbarMaxScroll"]:(i=a[e+"ScrollbarIndicatorSize"]-n.round(3*(o-a[e+"ScrollbarMaxScroll"])),30>i&&(i=30),a[e+"ScrollbarIndicator"].style["h"==e?"width":"height"]=i+"px",o=a[e+"ScrollbarMaxScroll"]+(a[e+"ScrollbarIndicatorSize"]-i))),a[e+"ScrollbarWrapper"].style[m]="0",a[e+"ScrollbarWrapper"].style.opacity=t&&a.options.hideScrollbar?"0":"1",a[e+"ScrollbarIndicator"].style[l]="translate("+("h"==e?o+"px,0)":"0,"+o+"px)")+E)},_start:function(t){var i,a,o,s,r,d=this,c=v?t.touches[0]:t;d.enabled&&(d.options.onBeforeScrollStart&&d.options.onBeforeScrollStart.call(d,t),(d.options.useTransition||d.options.zoom)&&d._transitionTime(0),d.moved=!1,d.animating=!1,d.zoomed=!1,d.distX=0,d.distY=0,d.absDistX=0,d.absDistY=0,d.dirX=0,d.dirY=0,d.options.zoom&&v&&t.touches.length>1&&(s=n.abs(t.touches[0].pageX-t.touches[1].pageX),r=n.abs(t.touches[0].pageY-t.touches[1].pageY),d.touchesDistStart=n.sqrt(s*s+r*r),d.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-2*d.wrapperOffsetLeft)/2-d.x,d.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-2*d.wrapperOffsetTop)/2-d.y,d.options.onZoomStart&&d.options.onZoomStart.call(d,t)),d.options.momentum&&(d.options.useTransform?(i=getComputedStyle(d.scroller,null)[l].replace(/[^0-9\-.,]/g,"").split(","),a=+(i[12]||i[4]),o=+(i[13]||i[5])):(a=+getComputedStyle(d.scroller,null).left.replace(/[^0-9-]/g,""),o=+getComputedStyle(d.scroller,null).top.replace(/[^0-9-]/g,"")),(a!=d.x||o!=d.y)&&(d.options.useTransition?d._unbind(z):S(d.aniTime),d.steps=[],d._pos(a,o),d.options.onScrollEnd&&d.options.onScrollEnd.call(d))),d.absStartX=d.x,d.absStartY=d.y,d.startX=d.x,d.startY=d.y,d.pointX=c.pageX,d.pointY=c.pageY,d.startTime=t.timeStamp||Date.now(),d.options.onScrollStart&&d.options.onScrollStart.call(d,t),d._bind(k,e),d._bind($,e),d._bind(j,e))},_move:function(e){var t,i,a,o=this,s=v?e.touches[0]:e,r=s.pageX-o.pointX,d=s.pageY-o.pointY,c=o.x+r,_=o.y+d,p=e.timeStamp||Date.now();return o.options.onBeforeScrollMove&&o.options.onBeforeScrollMove.call(o,e),o.options.zoom&&v&&e.touches.length>1?(t=n.abs(e.touches[0].pageX-e.touches[1].pageX),i=n.abs(e.touches[0].pageY-e.touches[1].pageY),o.touchesDist=n.sqrt(t*t+i*i),o.zoomed=!0,a=1/o.touchesDistStart*o.touchesDist*this.scale,o.options.zoomMin>a?a=.5*o.options.zoomMin*Math.pow(2,a/o.options.zoomMin):a>o.options.zoomMax&&(a=2*o.options.zoomMax*Math.pow(.5,o.options.zoomMax/a)),o.lastScale=a/this.scale,c=this.originX-this.originX*o.lastScale+this.x,_=this.originY-this.originY*o.lastScale+this.y,this.scroller.style[l]="translate("+c+"px,"+_+"px) scale("+a+")"+E,o.options.onZoom&&o.options.onZoom.call(o,e),void 0):(o.pointX=s.pageX,o.pointY=s.pageY,(c>0||o.maxScrollX>c)&&(c=o.options.bounce?o.x+r/2:c>=0||o.maxScrollX>=0?0:o.maxScrollX),(_>o.minScrollY||o.maxScrollY>_)&&(_=o.options.bounce?o.y+d/2:_>=o.minScrollY||o.maxScrollY>=0?o.minScrollY:o.maxScrollY),o.distX+=r,o.distY+=d,o.absDistX=n.abs(o.distX),o.absDistY=n.abs(o.distY),6>o.absDistX&&6>o.absDistY||(o.options.lockDirection&&(o.absDistX>o.absDistY+5?(_=o.y,d=0):o.absDistY>o.absDistX+5&&(c=o.x,r=0)),o.moved=!0,o._pos(c,_),o.dirX=r>0?-1:0>r?1:0,o.dirY=d>0?-1:0>d?1:0,p-o.startTime>300&&(o.startTime=p,o.startX=o.x,o.startY=o.y),o.options.onScrollMove&&o.options.onScrollMove.call(o,e)),void 0)},_end:function(t){if(!v||0===t.touches.length){var a,o,s,r,d,_,p,m=this,u=v?t.changedTouches[0]:t,h={dist:0,time:0},f={dist:0,time:0},g=(t.timeStamp||Date.now())-m.startTime,b=m.x,w=m.y;return m._unbind(k,e),m._unbind($,e),m._unbind(j,e),m.options.onBeforeScrollEnd&&m.options.onBeforeScrollEnd.call(m,t),m.zoomed?(p=m.scale*m.lastScale,p=Math.max(m.options.zoomMin,p),p=Math.min(m.options.zoomMax,p),m.lastScale=p/m.scale,m.scale=p,m.x=m.originX-m.originX*m.lastScale+m.x,m.y=m.originY-m.originY*m.lastScale+m.y,m.scroller.style[c]="200ms",m.scroller.style[l]="translate("+m.x+"px,"+m.y+"px) scale("+m.scale+")"+E,m.zoomed=!1,m.refresh(),m.options.onZoomEnd&&m.options.onZoomEnd.call(m,t),void 0):m.moved?(300>g&&m.options.momentum&&(h=b?m._momentum(b-m.startX,g,-m.x,m.scrollerW-m.wrapperW+m.x,m.options.bounce?m.wrapperW:0):h,f=w?m._momentum(w-m.startY,g,-m.y,0>m.maxScrollY?m.scrollerH-m.wrapperH+m.y-m.minScrollY:0,m.options.bounce?m.wrapperH:0):f,b=m.x+h.dist,w=m.y+f.dist,(m.x>0&&b>0||m.x<m.maxScrollX&&m.maxScrollX>b)&&(h={dist:0,time:0}),(m.y>m.minScrollY&&w>m.minScrollY||m.y<m.maxScrollY&&m.maxScrollY>w)&&(f={dist:0,time:0})),h.dist||f.dist?(d=n.max(n.max(h.time,f.time),10),m.options.snap&&(s=b-m.absStartX,r=w-m.absStartY,n.abs(s)<m.options.snapThreshold&&n.abs(r)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(_=m._snap(b,w),b=_.x,w=_.y,d=n.max(_.time,d))),m.scrollTo(n.round(b),n.round(w),d),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0):m.options.snap?(s=b-m.absStartX,r=w-m.absStartY,n.abs(s)<m.options.snapThreshold&&n.abs(r)<m.options.snapThreshold?m.scrollTo(m.absStartX,m.absStartY,200):(_=m._snap(m.x,m.y),(_.x!=m.x||_.y!=m.y)&&m.scrollTo(_.x,_.y,_.time)),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0):(m._resetPos(200),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0)):(v&&(m.doubleTapTimer&&m.options.zoom?(clearTimeout(m.doubleTapTimer),m.doubleTapTimer=null,m.options.onZoomStart&&m.options.onZoomStart.call(m,t),m.zoom(m.pointX,m.pointY,1==m.scale?m.options.doubleTapZoom:1),m.options.onZoomEnd&&setTimeout(function(){m.options.onZoomEnd.call(m,t)},200)):this.options.handleClick&&(m.doubleTapTimer=setTimeout(function(){for(m.doubleTapTimer=null,a=u.target;1!=a.nodeType;)a=a.parentNode;"SELECT"!=a.tagName&&"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName&&(o=i.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,t.view,1,u.screenX,u.screenY,u.clientX,u.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),o._fake=!0,a.dispatchEvent(o))},m.options.zoom?250:0))),m._resetPos(400),m.options.onTouchEnd&&m.options.onTouchEnd.call(m,t),void 0)}},_resetPos:function(e){var t=this,i=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,a=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return i==t.x&&a==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.hScrollbarWrapper.style[m]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&("webkit"==s&&(t.vScrollbarWrapper.style[m]="300ms"),t.vScrollbarWrapper.style.opacity="0"),void 0):(t.scrollTo(i,a,e||0),void 0)},_wheel:function(e){var t,i,a,n,o,s=this;if("wheelDeltaX"in e)t=e.wheelDeltaX/1,i=e.wheelDeltaY/1;else if("wheelDelta"in e)t=i=e.wheelDelta/1;else{if(!("detail"in e))return;t=i=3*-e.detail}return"zoom"==s.options.wheelAction?(o=s.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)),s.options.zoomMin>o&&(o=s.options.zoomMin),o>s.options.zoomMax&&(o=s.options.zoomMax),o!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,e),s.wheelZoomCount++,s.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,e)},400)),void 0):(a=s.x+t,n=s.y+i,a>0?a=0:s.maxScrollX>a&&(a=s.maxScrollX),n>s.minScrollY?n=s.minScrollY:s.maxScrollY>n&&(n=s.maxScrollY),0>s.maxScrollY&&s.scrollTo(a,n,0),void 0)},_transitionEnd:function(e){var t=this;e.target==t.scroller&&(t._unbind(z),t._startAni())},_startAni:function(){var e,t,i,a=this,o=a.x,s=a.y,r=Date.now();if(!a.animating)return a.steps.length?(e=a.steps.shift(),e.x==o&&e.y==s&&(e.time=0),a.animating=!0,a.moved=!0,a.options.useTransition?(a._transitionTime(e.time),a._pos(e.x,e.y),a.animating=!1,e.time?a._bind(z):a._resetPos(0),void 0):(i=function(){var l,d,c=Date.now();return c>=r+e.time?(a._pos(e.x,e.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni(),void 0):(c=(c-r)/e.time-1,t=n.sqrt(1-c*c),l=(e.x-o)*t+o,d=(e.y-s)*t+s,a._pos(l,d),a.animating&&(a.aniTime=T(i)),void 0)},i(),void 0)):(a._resetPos(400),void 0)},_transitionTime:function(e){e+="ms",this.scroller.style[c]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=e)},_momentum:function(e,t,i,a,o){var s=6e-4,r=n.abs(e)/t,l=r*r/(2*s),d=0,c=0;return e>0&&l>i?(c=o/(6/(l/r*s)),i+=c,r=r*i/l,l=i):0>e&&l>a&&(c=o/(6/(l/r*s)),a+=c,r=r*a/l,l=a),l*=0>e?-1:1,d=r/s,{dist:l,time:n.round(d)}},_offset:function(e){for(var t=-e.offsetLeft,i=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,i-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,i*=this.scale),{left:t,top:i}},_snap:function(e,t){var i,a,o,s,r,l,d=this;for(o=d.pagesX.length-1,i=0,a=d.pagesX.length;a>i;i++)if(e>=d.pagesX[i]){o=i;break}for(o==d.currPageX&&o>0&&0>d.dirX&&o--,e=d.pagesX[o],r=n.abs(e-d.pagesX[d.currPageX]),r=r?500*(n.abs(d.x-e)/r):0,d.currPageX=o,o=d.pagesY.length-1,i=0;o>i;i++)if(t>=d.pagesY[i]){o=i;break}return o==d.currPageY&&o>0&&0>d.dirY&&o--,t=d.pagesY[o],l=n.abs(t-d.pagesY[d.currPageY]),l=l?500*(n.abs(d.y-t)/l):0,d.currPageY=o,s=n.round(n.max(r,l))||200,{x:e,y:t,time:s}},_bind:function(e,t,i){(t||this.scroller).addEventListener(e,this,!!i)},_unbind:function(e,t,i){(t||this.scroller).removeEventListener(e,this,!!i)},destroy:function(){var t=this;t.scroller.style[l]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(y,e),t._unbind(x),t._unbind(k,e),t._unbind($,e),t._unbind(j,e),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(z),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e,t,i,a,o=this,s=0,r=0;if(o.scale<o.options.zoomMin&&(o.scale=o.options.zoomMin),o.wrapperW=o.wrapper.clientWidth||1,o.wrapperH=o.wrapper.clientHeight||1,o.minScrollY=-o.options.topOffset||0,o.scrollerW=n.round(o.scroller.offsetWidth*o.scale),o.scrollerH=n.round((o.scroller.offsetHeight+o.minScrollY)*o.scale),o.maxScrollX=o.wrapperW-o.scrollerW,o.maxScrollY=o.wrapperH-o.scrollerH+o.minScrollY,o.dirX=0,o.dirY=0,o.options.onRefresh&&o.options.onRefresh.call(o),o.hScroll=o.options.hScroll&&0>o.maxScrollX,o.vScroll=o.options.vScroll&&(!o.options.bounceLock&&!o.hScroll||o.scrollerH>o.wrapperH),o.hScrollbar=o.hScroll&&o.options.hScrollbar,o.vScrollbar=o.vScroll&&o.options.vScrollbar&&o.scrollerH>o.wrapperH,e=o._offset(o.wrapper),o.wrapperOffsetLeft=-e.left,o.wrapperOffsetTop=-e.top,"string"==typeof o.options.snap)for(o.pagesX=[],o.pagesY=[],a=o.scroller.querySelectorAll(o.options.snap),t=0,i=a.length;i>t;t++)s=o._offset(a[t]),s.left+=o.wrapperOffsetLeft,s.top+=o.wrapperOffsetTop,o.pagesX[t]=s.left<o.maxScrollX?o.maxScrollX:s.left*o.scale,o.pagesY[t]=s.top<o.maxScrollY?o.maxScrollY:s.top*o.scale;else if(o.options.snap){for(o.pagesX=[];s>=o.maxScrollX;)o.pagesX[r]=s,s-=o.wrapperW,r++;for(o.maxScrollX%o.wrapperW&&(o.pagesX[o.pagesX.length]=o.maxScrollX-o.pagesX[o.pagesX.length-1]+o.pagesX[o.pagesX.length-1]),s=0,r=0,o.pagesY=[];s>=o.maxScrollY;)o.pagesY[r]=s,s-=o.wrapperH,r++;o.maxScrollY%o.wrapperH&&(o.pagesY[o.pagesY.length]=o.maxScrollY-o.pagesY[o.pagesY.length-1]+o.pagesY[o.pagesY.length-1])}o._scrollbar("h"),o._scrollbar("v"),o.zoomed||(o.scroller.style[c]="0",o._resetPos(400))},scrollTo:function(e,t,i,a){var n,o,s=this,r=e;for(s.stop(),r.length||(r=[{x:e,y:t,time:i,relative:a}]),n=0,o=r.length;o>n;n++)r[n].relative&&(r[n].x=s.x-r[n].x,r[n].y=s.y-r[n].y),s.steps.push({x:r[n].x,y:r[n].y,time:r[n].time||0});s._startAni()},scrollToElement:function(e,t){var i,a=this;e=e.nodeType?e:a.scroller.querySelector(e),e&&(i=a._offset(e),i.left+=a.wrapperOffsetLeft,i.top+=a.wrapperOffsetTop,i.left=i.left>0?0:i.left<a.maxScrollX?a.maxScrollX:i.left,i.top=i.top>a.minScrollY?a.minScrollY:i.top<a.maxScrollY?a.maxScrollY:i.top,t=void 0===t?n.max(2*n.abs(i.left),2*n.abs(i.top)):t,a.scrollTo(i.left,i.top,t))},scrollToPage:function(e,t,i){var a,n,o=this;i=void 0===i?400:i,o.options.onScrollStart&&o.options.onScrollStart.call(o),o.options.snap?(e="next"==e?o.currPageX+1:"prev"==e?o.currPageX-1:e,t="next"==t?o.currPageY+1:"prev"==t?o.currPageY-1:t,e=0>e?0:e>o.pagesX.length-1?o.pagesX.length-1:e,t=0>t?0:t>o.pagesY.length-1?o.pagesY.length-1:t,o.currPageX=e,o.currPageY=t,a=o.pagesX[e],n=o.pagesY[t]):(a=-o.wrapperW*e,n=-o.wrapperH*t,o.maxScrollX>a&&(a=o.maxScrollX),o.maxScrollY>n&&(n=o.maxScrollY)),o.scrollTo(a,n,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(k,e),this._unbind($,e),this._unbind(j,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(z):S(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,i,a){var n=this,o=i/n.scale;n.options.useTransform&&(n.zoomed=!0,a=void 0===a?200:a,e=e-n.wrapperOffsetLeft-n.x,t=t-n.wrapperOffsetTop-n.y,n.x=e-e*o+n.x,n.y=t-t*o+n.y,n.scale=i,n.refresh(),n.x=n.x>0?0:n.x<n.maxScrollX?n.maxScrollX:n.x,n.y=n.y>n.minScrollY?n.minScrollY:n.y<n.maxScrollY?n.maxScrollY:n.y,n.scroller.style[c]=a+"ms",n.scroller.style[l]="translate("+n.x+"px,"+n.y+"px) scale("+i+")"+E,n.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},o=null,t!==void 0?t.iScroll=C:e.iScroll=C})(window,document),i.exports=t.iScroll}),define("base/mustache",[],function(e,t,i){var a;(function(e){void 0!==i&&i.exports?i.exports=e:"function"==typeof define?define(e):a=e})(function(){function e(e,t){return RegExp.prototype.test.call(e,t)}function t(t){return!e(h,t)}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e){return(e+"").replace(/[&<>"'\/]/g,function(e){return w[e]})}function n(e){this.string=e,this.tail=e,this.pos=0}function o(e,t){this.view=e,this.parent=t,this.clearCache()}function s(){this.clearCache()}function r(e){for(var t,i=e[3],a=i;(t=e[4])&&t.length;)e=t[t.length-1],a=e[3];return[i,a]}function l(e){function t(e,t,a){if(!i[e]){var n=l(t);i[e]=function(e,t){return n(e,t,a)}}return i[e]}var i={};return function(i,a,n){for(var o,s,l="",d=0,c=e.length;c>d;++d)switch(o=e[d],o[0]){case"#":s=n.slice.apply(n,r(o)),l+=i._section(o[1],a,s,t(d,o[4],n));break;case"^":l+=i._inverted(o[1],a,t(d,o[4],n));break;case">":l+=i._partial(o[1],a);break;case"&":l+=i._name(o[1],a);break;case"name":l+=i._escaped(o[1],a);break;case"text":l+=o[1]}return l}}function d(e){for(var t,i,a=[],n=a,o=[],s=0;e.length>s;++s)switch(t=e[s],t[0]){case"#":case"^":t[4]=[],o.push(t),n.push(t),n=t[4];break;case"/":if(0===o.length)throw Error("Unopened section: "+t[1]);if(i=o.pop(),i[1]!==t[1])throw Error("Unclosed section: "+i[1]);n=o.length>0?o[o.length-1][4]:a;break;default:n.push(t)}if(i=o.pop())throw Error("Unclosed section: "+i[1]);return a}function c(e){for(var t,i,a=[],n=0;e.length>n;++n)t=e[n],i&&"text"===i[0]&&"text"===t[0]?(i[1]+=t[1],i[3]=t[3]):(i=t,a.push(t));return a}function _(e){if(2!==e.length)throw Error("Invalid tags: "+e.join(" "));return[RegExp(i(e[0])+"\\s*"),RegExp("\\s*"+i(e[1]))]}var p={};p.name="mustache.js",p.version="0.7.1",p.tags=["{{","}}"],p.Scanner=n,p.Context=o,p.Writer=s;var m=/\s*/,u=/\s+/,h=/\S/,f=/\s*=/,g=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};p.escape=a,n.prototype.eos=function(){return""===this.tail},n.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):""},n.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return t},o.make=function(e){return e instanceof o?e:new o(e)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(e){return new o(e,this)},o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."===e)t=this.view;else for(var i=this;i;){if(e.indexOf(".")>0){var a=e.split("."),n=0;for(t=i.view;t&&a.length>n;)t=t[a[n++]]}else t=i.view[e];if(null!=t)break;i=i.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(e,t){var i=this._cache[e];if(!i){var a=p.parse(e,t);i=this._cache[e]=this.compileTokens(a,e)}return i},s.prototype.compilePartial=function(e,t,i){var a=this.compile(t,i);return this._partialCache[e]=a,a},s.prototype.compileTokens=function(e,t){var i=l(e),a=this;return function(e,n){if(n)if("function"==typeof n)a._loadPartial=n;else for(var s in n)a.compilePartial(s,n[s]);return i(a,o.make(e),t)}},s.prototype.render=function(e,t,i){return this.compile(e)(t,i)},s.prototype._section=function(e,t,i,a){var n=t.lookup(e);switch(typeof n){case"object":if(b(n)){for(var o="",s=0,r=n.length;r>s;++s)o+=a(this,t.push(n[s]));return o}return n?a(this,t.push(n)):"";case"function":var l=this,d=function(e){return l.render(e,t)},c=n.call(t.view,i,d);return null!=c?c:"";default:if(n)return a(this,t)}return""},s.prototype._inverted=function(e,t,i){var a=t.lookup(e);return!a||b(a)&&0===a.length?i(this,t):""},s.prototype._partial=function(e,t){e in this._partialCache||!this._loadPartial||this.compilePartial(e,this._loadPartial(e));var i=this._partialCache[e];return i?i(t):""},s.prototype._name=function(e,t){var i=t.lookup(e);return"function"==typeof i&&(i=i.call(t.view)),null==i?"":i+""},s.prototype._escaped=function(e,t){return p.escape(this._name(e,t))},p.parse=function(e,a){function o(){if(k&&!$)for(;x.length;)y.splice(x.pop(),1);else x=[];k=!1,$=!1}e=e||"",a=a||p.tags;for(var s,r,l,h,b=_(a),w=new n(e),y=[],x=[],k=!1,$=!1;!w.eos();){if(s=w.pos,l=w.scanUntil(b[0]))for(var j=0,z=l.length;z>j;++j)h=l.charAt(j),t(h)?x.push(y.length):$=!0,y.push(["text",h,s,s+1]),s+=1,"\n"===h&&o();if(s=w.pos,!w.scan(b[0]))break;if(k=!0,r=w.scan(v)||"name",w.scan(m),"="===r)l=w.scanUntil(f),w.scan(f),w.scanUntil(b[1]);else if("{"===r){var T=RegExp("\\s*"+i("}"+a[1]));l=w.scanUntil(T),w.scan(g),w.scanUntil(b[1]),r="&"}else l=w.scanUntil(b[1]);if(!w.scan(b[1]))throw Error("Unclosed tag at "+w.pos);y.push([r,l,s,w.pos]),("name"===r||"{"===r||"&"===r)&&($=!0),"="===r&&(a=l.split(u),b=_(a))}return y=c(y),d(y)};var y=new s;return p.clearCache=function(){return y.clearCache()},p.compile=function(e,t){return y.compile(e,t)},p.compilePartial=function(e,t,i){return y.compilePartial(e,t,i)},p.compileTokens=function(e,t){return y.compileTokens(e,t)},p.render=function(e,t,i){return y.render(e,t,i)},p.to_html=function(e,t,i,a){var n=p.render(e,t,i);return"function"!=typeof a?n:(a(n),void 0)},p}())}),define("base/cookies",[],function(e,t){function i(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}t.writeCookie=function(e,t,i,a,n){if(t=encodeURIComponent(t),a&&(t+="; domain="+a),n&&(t+="; path="+n),i){var o=new Date;o.setTime(o.getTime()+36e5*i),t+="; expires="+o.toGMTString()
}document.cookie=e+"="+t},t.readCookie=function(e){var t=document.cookie.match("(?:^|;)\\s*"+i(e)+"=([^;]*)");return t?decodeURIComponent(t[1]):null},t.delCookie=function(e,t,i){this.writeCookie(e,"",-1,t,i)}}),"function"==typeof process_add&&process_add();